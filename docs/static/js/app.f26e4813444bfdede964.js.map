{"version":3,"sources":["webpack:///static/js/app.f26e4813444bfdede964.js","webpack:///./src/components/Editor.vue","webpack:///./src/components/EditorWrapper.vue","webpack:///./src/components/Preview.vue","webpack:///./src/components/ProjectName.vue","webpack:///./src/components/ProjectList.vue","webpack:///./src/App.vue","webpack:///./src/store/mutations.js","webpack:///./src/filters/index.js","webpack:///src/components/Editor.vue","webpack:///./src/components/Editor.vue?6ec3","webpack:///src/components/EditorWrapper.vue","webpack:///./src/components/EditorWrapper.vue?efa9","webpack:///src/components/Preview.vue","webpack:///./src/components/Preview.vue?9aea","webpack:///src/components/ProjectName.vue","webpack:///./src/components/ProjectName.vue?56af","webpack:///src/components/ProjectList.vue","webpack:///./src/components/ProjectList.vue?6971","webpack:///src/App.vue","webpack:///./src/App.vue?d664","webpack:///./src/store/mutation-types.js","webpack:///./src/store/actions.js","webpack:///./src/store/getters.js","webpack:///./src/store/db.js","webpack:///./src/store/index.js","webpack:///./src/main.js"],"names":["webpackJsonp","4/hK","module","exports","9xLI","BoDG","NHnr","__webpack_exports__","__webpack_require__","injectStyle","ssrContext","EditorWrapper_injectStyle","Preview_injectStyle","ProjectName_injectStyle","ProjectList_injectStyle","App_injectStyle","setCurrentProjectId","state","id","currentProjectId","store_db","update","mutations_addProject","timestamp","Date","now","project","name","html","style","js","created_at","modified_at","projects","push","mutations_updateProject","context","find","k","mutations_destroyProject","idx","indexOf","splice","_projects","sort","a","b","length","Object","defineProperty","value","_mutationTypes$SWITCH","vue_esm","helpers_extends","extends_default","n","defineProperty_default","codemirror","codemirror_default","lodash","lodash_default","filters","upper","toString","toUpperCase","Editor","props","data","input","codeMirror","watch","this","initCode","computed","typeName","type","mounted","initEditor","initChange","methods","types","$el","querySelector","lineNumbers","mode","lineWrapping","theme","scrollbarStyle","tabSize","height","clientHeight","setCodeMirrorValue","code","_this","on","debounce","newValue","getValue","trim","$emit","val","getDoc","setValue","render","_vm","_h","$createElement","_c","_self","class","staticClass","_v","_s","_t","staticRenderFns","esExports","components_Editor","normalizeComponent","__vue_styles__","Component","src_components_Editor","vuex_esm","EditorWrapper","width","Number","winHeight","minHeight","components","editorWrapperWidth","created","window","innerHeight","addEventListener","handleResize","totalHeight","_k","updateCode","$store","dispatch","currentProject","resizeEditor","e","curr","sibl","cleanMouseEvent","clickY","clientY","currH","siblH","document","onmousemove","moveY","onmouseup","EditorWrapper_render","attrs","mousedown","$event","_e","EditorWrapper_staticRenderFns","EditorWrapper_esExports","components_EditorWrapper","EditorWrapper_normalizeComponent","EditorWrapper___vue_styles__","EditorWrapper_Component","src_components_EditorWrapper","Preview","previewSrc","handler","updateStyle","deep","console","log","preview","$refs","previewRef","innerHTML","frame","createElement","appendChild","doc","contentWindow","textContent","script","libs","injectLibs","open","write","outerHTML","close","contentDocument","getElementById","jsAssets","reduce","asset","src","Preview_render","ref","Preview_staticRenderFns","Preview_esExports","components_Preview","Preview_normalizeComponent","Preview___vue_styles__","Preview_Component","src_components_Preview","ProjectName","active","Boolean","projectListWidth","String","editMode","switchProject","switchEditMode","setTimeout","nameInputRef","select","blurInput","blur","save","_this2","newName","then","unsave","ProjectName_render","edit-mode","directives","rawName","expression","click","dblclick","domProps","keyup","keyCode","key","target","composing","ProjectName_staticRenderFns","ProjectName_esExports","components_ProjectName","ProjectName_normalizeComponent","ProjectName___vue_styles__","ProjectName_Component","src_components_ProjectName","ProjectList","sortedProjects","slice","ProjectList_render","_l","ProjectList_staticRenderFns","ProjectList_esExports","components_ProjectList","ProjectList_normalizeComponent","ProjectList___vue_styles__","ProjectList_Component","src_components_ProjectList","App","winWidth","minWidth","projectList","projectListHolder","editorWrapper","moving","hideProjectList","dev","location","protocol","hasProject","projectCount","tipsStyle","left","innerWidth","initShortcut","resize","clickX","clientX","currW","otherWidth","moveX","shortcutKeydown","shortcutKeyup","ctrlKey","newProject","distroyProject","toggleProjectList","confirm","App_render","transition","_m","App_staticRenderFns","App_esExports","selectortype_template_index_0_src_App","App_normalizeComponent","App___vue_styles__","App_Component","src_App","mutation_types","SWITCH_PROJECT","ADD_PROJECT","UPDATE_PROJECT","DESTROY_PROJECT","actions","_ref","payload","commit","addProject","_ref2","updateProject","_ref3","destroyProject","_ref4","getters","object_assign","assign_default","stringify","stringify_default","seed","localStorage","init","db","getItem","_db","JSON","parse","setItem","mutations","use","store_state","store","Store","config","debug","NODE_ENV","DEBUG_MODE","el","template","WPmU","Yt3H","epNC","jFuy","qKDr","tNM2","uMhA"],"mappings":"AAAAA,cAAc,IAERC,OACA,SAAUC,EAAQC,KAMlBC,OACA,SAAUF,EAAQC,KAMlBE,KACA,SAAUH,EAAQC,KAMlBG,KACA,SAAUJ,EAAQK,EAAqBC,GAE7C,YC1BA,SAAAC,GAAAC,GACAF,EAAA,QCDA,QAAAG,GAAAD,GACAF,EAAA,QCDA,QAAAI,GAAAF,GACAF,EAAA,QCDA,QAAAK,GAAAH,GACAF,EAAA,QCDA,QAAAM,GAAAJ,GACAF,EAAA,QCDA,QAAAO,GAAAL,GACAF,EAAA,QCiBA,QAASQ,GAAqBC,EAAOC,GACnCD,EAAME,iBAAmBD,EACzBE,GAAGC,OAAOJ,GAGZ,QAASK,GAAYL,GACnB,GAAIM,GAAYC,KAAKC,MACjBC,GACFR,GAAI,KAAOK,EACXI,KAAM,WACNC,KAAM,GACNC,MAAO,GACPC,GAAI,GACJC,WAAYR,EACZS,YAAaT,EAEfN,GAAMgB,SAASC,KAAKR,GACpBV,EAAoBC,EAAOS,EAAQR,IAGrC,QAASiB,GAAelB,EAAOmB,GAC7B,GAAIV,GAAUT,EAAMgB,SAASI,KAAK,SAACX,GAAD,MAAaA,GAAQR,KAAOkB,EAAQlB,IACtE,IAAIQ,EAAS,CACX,IAAK,GAAIY,KAAKF,GACZV,EAAQY,GAAKF,EAAQE,EAEvBZ,GAAQM,YAAcR,KAAKC,MAE7BL,GAAGC,OAAOJ,GAGZ,QAASsB,GAAgBtB,EAAOC,GAC9B,GAAIQ,GAAUT,EAAMgB,SAASI,KAAK,SAACX,GAAD,MAAaA,GAAQR,KAAOA,IAC1DsB,EAAMvB,EAAMgB,SAASQ,QAAQf,EACjCT,GAAMgB,SAASS,OAAOF,EAAK,EAC3B,IAAIG,GAAY1B,EAAMgB,SAASW,KAAK,SAACC,EAAGC,GACtC,MAAOD,GAAEb,YAAcc,EAAEd,aAEvBW,GAAUI,OACZ/B,EAAoBC,EAAO0B,EAAU,GAAGzB,IAExCF,EAAoBC,EAAO,MPhC/B+B,OAAOC,eAAe1C,EAAqB,cAAgB2C,OAAO,GAGlE,IAo6BIC,GAp6BAC,EAAU5C,EAAoB,QAG9B6C,EAAkB7C,EAAoB,QACtC8C,EAA+B9C,EAAoB+C,EAAEF,GAGrDJ,EAAiBzC,EAAoB,QACrCgD,EAAsChD,EAAoB+C,EAAEN,GAG5DQ,EAAajD,EAAoB,QACjCkD,EAAkClD,EAAoB+C,EAAEE,GAmCxDE,GAhCiBnD,EAAoB,QAI1BA,EAAoB,QAInBA,EAAoB,QAIjBA,EAAoB,QAI7BA,EAAoB,QAIbA,EAAoB,QAIdA,EAAoB,QAIbA,EAAoB,QAIrCA,EAAoB,SAC7BoD,EAA8BpD,EAAoB+C,EAAEI,GQ9ExDE,GACEC,MADa,SACNZ,GACL,MAAOA,GAAMa,WAAWC,gBCmB5BC,GTwFEtC,KStFF,STuFEuC,OAAQ,OAAQ,SAAU,OStF5B,oBTuFEC,KAAM,WACJ,OACEC,MStFN,GTuFMC,WSrFN,OTyFER,QSvFFA,ETwFES,OACEnD,iBAAoB,WAClBoD,KSvFNC,aT0FEC,UACEC,SAAU,WAMR,OAJE9C,KSvFR,OTwFQC,MSvFR,MTwFQC,GStFR,MTwFmByC,KSvFnBI,QT0FEC,QAAS,WACPL,KSvFJM,aTwFIN,KSvFJC,WTwFID,KSvFJO,cT0FEC,SACEF,WAAY,WACV,GAAIG,IACFpD,KSxFR,YTyFQC,MSxFR,MTyFQC,GSvFR,aTyFMyC,MAAKF,WAAaX,IAAqBa,KAAKU,IAAIC,cAAc,eAC5DC,aSxFR,ETyFQC,KAAMJ,EAAMT,KSxFpBI,MTyFQU,cSxFR,ETyFQC,MSxFR,WTyFQC,eSxFR,UTyFQC,QSvFR,ITyFMjB,KAAKU,IAAIC,cAAc,sBAAsBrD,MAAM4D,OAASlB,KAAKU,ISxFvES,cT0FIlB,SAAU,WACRD,KAAKoB,mBAAmBpB,KSxF9BqB,OT0FId,WAAY,WSxFhB,GAAAe,GAAAtB,IT2FMA,MAAKF,WAAWyB,GAAG,SAAUlC,EAAef,EAAEkD,SAAS,WACrD,GAAIC,GAAWH,EAAMxB,WAAW4B,WS1FxCC,MT2FYF,KAAaH,EAAMD,MACrBC,EAAMM,MAAM,aAAcN,EAAMlB,KS1F1CqB,IAEA,OT4FIL,mBAAoB,SAA4BS,GAC9C7B,KAAKF,WAAWgC,SAASC,SS1F/BF,MCjFAG,EAAA,WAA0B,GAAAC,GAAAjC,KAAakC,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,CAAwB,OAAAE,GAAA,OAAiBE,MAAA,iBAAAL,EAAA7B,KAAA9C,OAA0C4D,OAAAe,EAAAf,OAAA,QAA4BkB,EAAA,OAAYG,YAAA,SAAmBN,EAAAO,GAAAP,EAAAQ,GAAAR,EAAA9B,aAAA8B,EAAAO,GAAA,KAAAJ,EAAA,OAAuDG,YAAA,cAAwBN,EAAAO,GAAA,KAAAP,EAAAS,GAAA,gBAC9RC,KACAC,GAAiBZ,SAAAW,mBACjBE,EAAA,ETAAC,EAAA7G,EAAA,QAQA8G,EAAA7G,EAKA8G,EAAAF,EACApD,EACAmD,GATA,EAWAE,EAPA,KAEA,MAUAE,EAAAD,EAAA,QDwLIE,EAAWjH,EAAoB,QAuCFkH,GAC/B/F,KWrNF,gBXsNEuC,OACEyD,MWpNJC,QXsNEzD,KAAM,WACJ,OACE0D,UWrNN,EXsNMC,UWrNN,GXsNMrC,QACE7D,KWrNR,EXsNQC,MWrNR,EXsNQC,GWnNR,KXwNEiG,YWpNF9D,OAAAuD,GACA/C,SAAAnB,OAAAN,OAAAyE,EAAA,IAEA,mBAEA,oBXmNIO,mBAAoB,WAClB,OACEL,MAAOpD,KAAKoD,MWjNpB,SXqNErD,OACEnD,iBAAkB,WAChBoD,KAAK4B,MWlNX,cXqNE8B,QAAS,WACP1D,KAAKsD,UAAYK,OWlNrBC,WXmNI,KAAK,GAAI7F,KAAKiC,MAAKkB,OACjBlB,KAAKkB,OAAOnD,GAAKiC,KAAKsD,UWlN5B,CXoNIK,QAAOE,iBAAiB,SAAU7D,KWlNtC8D,eXqNEtD,SACEsD,aAAc,WACZ9D,KAAKsD,UAAYK,OWnNvBC,WXoNM,IAAIG,GWnNV,CXoNM,KAAK,GAAIhG,KAAKiC,MAAKkB,OACjB6C,GAAe/D,KAAKkB,OWnN5BnD,EXqNM,KAAK,GAAIiG,KAAMhE,MAAKkB,OAClBlB,KAAKkB,OAAO8C,GAAMhE,KAAKsD,UAAYtD,KAAKkB,OAAO8C,GWnNvDD,GXsNIE,WAAY,SAAoB7D,EAAMiB,GACpCrB,KAAKkE,OAAOC,SWnNlB,gBAAAlF,KXoNQtC,GAAIqD,KAAKoE,eWnNjBzH,IXoNSyD,EWlNTiB,KXoNIgD,aAAc,SAAsBC,EAAGC,EAAMC,GWlNjD,GAAAlD,GAAAtB,IXqNMA,MWpNNyE,iBXqNM,IAAIC,GAASJ,EWpNnBK,QXqNUC,EAAQ5E,KAAKkB,OWpNvBqD,GXqNUM,EAAQ7E,KAAKkB,OWpNvBsD,EXqNMM,UAASC,YAAc,SAAUT,GAC/B,GAAIU,GAAQV,EAAEK,QWpNtBD,CXqNYE,GAAQI,EAAQ1D,EAAMiC,WACxBjC,EAAMJ,OAAOqD,GAAQjD,EWpN/BiC,UXqNUjC,EAAMJ,OAAOsD,GAAQI,EAAQC,EAAQvD,EWpN/CiC,WXqNmBsB,EAAQG,EAAQ1D,EAAMiC,WAC/BjC,EAAMJ,OAAOqD,GAAQK,EAAQC,EAAQvD,EWpN/CiC,UXqNUjC,EAAMJ,OAAOsD,GAAQlD,EWpN/BiC,YXsNUjC,EAAMJ,OAAOsD,GAAQK,EWpN/BG,EXqNU1D,EAAMJ,OAAOqD,GAAQK,EWpN/BI,IXuNMF,SAASG,UAAYjF,KWpN3ByE,iBXsNIA,gBAAiB,WACfK,SAASC,YWpNf,KXqNMD,SAASG,UWpNf,QCpHAC,EAAA,WAA0B,GAAAjD,GAAAjC,KAAakC,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,CAAwB,OAAAE,GAAA,OAAiB9E,MAAA2E,EAAA,mBAAAkD,OAAsCxI,GAAA,oBAAuBsF,EAAA,eAAAG,EAAA,OAAAA,EAAA,UAA8C+C,OAAO/E,KAAA,OAAAc,OAAAe,EAAAf,OAAA7D,KAAAgE,KAAAY,EAAAmC,eAAA/G,KAAAT,iBAAAqF,EAAArF,kBAA8G2E,IAAK0C,WAAAhC,EAAAgC,cAA6B7B,EAAA,OAAYG,YAAA,cAAAhB,IAA8B6D,UAAA,SAAAC,GAA6BpD,EAAAoC,aAAAgB,EAAA,sBAA4CpD,EAAAO,GAAA,KAAAJ,EAAA,UAA6B+C,OAAO/E,KAAA,QAAAc,OAAAe,EAAAf,OAAA5D,MAAA+D,KAAAY,EAAAmC,eAAA9G,MAAAV,iBAAAqF,EAAArF,kBAAiH2E,IAAK0C,WAAAhC,EAAAgC,cAA6B7B,EAAA,OAAYG,YAAA,cAAAhB,IAA8B6D,UAAA,SAAAC,GAA6BpD,EAAAoC,aAAAgB,EAAA,oBAA0CpD,EAAAO,GAAA,KAAAJ,EAAA,UAA6B+C,OAAO/E,KAAA,KAAAc,OAAAe,EAAAf,OAAA3D,GAAA8D,KAAAY,EAAAmC,eAAA7G,GAAAX,iBAAAqF,EAAArF,kBAAwG2E,IAAK0C,WAAAhC,EAAAgC,eAA6B,GAAAhC,EAAAqD,KAAArD,EAAAO,GAAA,KAAAP,EAAAS,GAAA,gBACr7B6C,KACAC,GAAiBxD,OAAAkD,EAAAvC,gBAAA4C,GACjBE,EAAA,EVAAC,EAAAzJ,EAAA,QAQA0J,EAAAvJ,EAKAwJ,EAAAF,EACAvC,EACAsC,GATA,EAWAE,EAPA,KAEA,MAUAE,EAAAD,EAAA,QWdAE,GbgXE1I,Ka9WF,Ub+WEwC,KAAM,WACJ,OACEhD,iBa9WN,Gb+WMS,Ka9WN,Gb+WMC,Ma9WN,Gb+WMC,Ga9WN,Gb+WMwI,Wa7WN,KAEA7F,SAAAnB,OAAAN,OAAAyE,EAAA,IAIA,oBb4WEnD,OACEqE,gBACE4B,QAAS,SAAiBnE,GACxB,IAAKA,EAAK,Oa3WlB,Cb4WYA,GAAIxE,OAAS2C,Ka3WzB3C,MAAAwE,EAAAtE,KAAAyC,KACAzC,IAAAsE,EAAAlF,KAAAqD,KACApD,kBAAAiF,EAAAvE,QAAA0C,KAAA1C,Mb0WU0C,KaxWViG,cb2WUjG,KaxWVlD,Ub4WMoJ,MavWN,Ib0WE7F,QAAS,WACHL,KAAKoE,gBACPpE,KazWNlD,Ub6WE0D,SACE1D,OAAQ,WACNqJ,QAAQC,Ia1Wd,Ub2WMpG,KAAKpD,iBAAmBoD,KAAKoE,ea1WnCzH,Gb2WMqD,KAAK3C,KAAO2C,KAAKoE,ea1WvB/G,Kb2WM2C,KAAK1C,MAAQ0C,KAAKoE,ea1WxB9G,Mb2WM0C,KAAKzC,GAAKyC,KAAKoE,ea1WrB7G,Eb2WM,IAAI8I,GAAUrG,KAAKsG,Ma1WzBC,Ub2WMF,GAAQG,Ua1Wd,Eb2WM,IAAIC,GAAQ3B,SAAS4B,ca1W3B,Sb2WML,GAAQM,Ya1WdF,Eb2WM,IAAIG,GAAMH,EAAMI,ca1WtB/B,Sb2WUxH,EAAQwH,SAAS4B,ca1W3B,Qb2WMpJ,GAAM8C,Ka1WZ,Wb2WM9C,EAAMX,GAAKqD,KAAKoE,eAAezH,Ga1WrC,Sb2WMW,EAAMwJ,YAAc9G,Ka1W1B1C,Kb2WM,IAAIyJ,GAASjC,SAAS4B,ca1W5B,Sb2WMK,GAAOpK,GAAKqD,KAAKoE,eAAezH,Ga1WtC,Ub2WMoK,EAAOD,YAAc9G,Ka1W3BzC,Eb2WM,IAAIyJ,GAAOhH,Ka1WjBiH,Yb2WML,Ga1WNM,Ob2WMN,EAAIO,MAAMnH,KAAK3C,Ma1WrB,yEb2WMuJ,EAAIO,Ma1WVH,Gb2WMJ,EAAIO,MAAM7J,Ea1WhB8J,Wb2WMR,EAAIO,MAAMJ,Ea1WhBK,Wb2WMR,Ea1WNS,Sb4WIpB,YAAa,WACXE,QAAQC,Ia1Wd,eb2WMpG,KAAK1C,MAAQ0C,KAAKoE,ea1WxB9G,Mb2WkB0C,KAAKsG,MAAMC,WAAW5F,ca1WxC,UACA2G,gBb2WsBC,eAAevH,KAAKoE,eAAezH,Ga1WzD,Ub2WYmK,YAAc9G,KAAKoE,ea1W/B9G,Ob4WI2J,WAAY,WACV,GACIO,IAAY,aa1WtB,gBbgXM,OALWnI,GAAef,EAAEmJ,OAAOD,EAAU,SAAUR,EAAMU,GAC3D,GAAIX,GAASjC,SAAS4B,ca1W9B,Sb4WQ,OADAK,GAAOY,Ia9Wf,eAIAD,Eb2WeV,EAAOD,Ea1WtBK,WACA,OC5FAQ,EAAA,WAA0B,GAAA3F,GAAAjC,KAAakC,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,CAAwB,OAAAE,GAAA,OAAiB+C,OAAOxI,GAAA,qBAAwByF,EAAA,OAAYyF,IAAA,aAAA1C,OAAwBxI,GAAA,aAAgBsF,EAAAO,GAAA,KAAAP,EAAAS,GAAA,gBAC7LoF,KACAC,GAAiB/F,OAAA4F,EAAAjF,gBAAAmF,GACjBE,EAAA,EXAAC,EAAAhM,EAAA,QAQAiM,EAAA7L,EAKA8L,EAAAF,EACAnC,EACAkC,GATA,EAWAE,EAPA,KAEA,MAUAE,EAAAD,EAAA,QYHAE,Gf8eEjL,Ke5eF,cf6eEuC,OACE2I,Oe5eJC,Qf6eIpL,Qe5eJsB,Of6eI+J,iBe3eJC,Qf6eE7I,KAAM,WACJ,OACExC,Ke5eN,Gf6eMsL,Ue3eN,If+eElI,SACEmI,cAAe,WACb3I,KAAKkE,OAAOC,SAAS,iBAAmBxH,GAAIqD,KAAK7C,Qe7evDR,Mf+eIiM,eAAgB,We7epB,GAAAtH,GAAAtB,IfgfMA,MAAK0I,UAAY1I,Ke/evB0I,SfgfU1I,KAAK0I,UACP1I,KAAK5C,KAAO4C,KAAK7C,Qe/ezBC,KfgfQyL,WAAW,WACTvH,EAAMgF,MAAMwC,ae/etBC,UACA,IfifQ/I,KAAK5C,Ke/eb,IfkfI4L,UAAW,WACThJ,KAAKsG,MAAMwC,ae/ejBG,QfifIC,KAAM,We/eV,GAAAC,GAAAnJ,KfkfUoJ,EAAUpJ,KAAK5C,KejfzBuE,MfkfUyH,KAAYpJ,KAAK7C,QAAQC,KAC3B4C,KejfR4I,iBfkf6B,KAAZQ,GACTpJ,KAAK5C,KAAO4C,KAAK7C,QejfzBC,KfkfQ4C,KejfR4I,kBfmfQ5I,KAAKkE,OAAOC,SAAS,iBACnBxH,GAAIqD,KAAK7C,QejfnBR,GfkfUS,KejfVgM,IAFAC,KAAA,WfqfUF,EejfVP,oBfqfIU,OAAQ,WACNtJ,KAAK5C,KAAO4C,KAAK7C,QejfvBC,KfkfM4C,KejfN4I,oBCxEAW,EAAA,WAA0B,GAAAtH,GAAAjC,KAAakC,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,CAAwB,OAAAE,GAAA,OAAiBG,YAAA,OAAAD,OAA0BgG,OAAArG,EAAAqG,OAAAkB,YAAAvH,EAAAyG,YAAiDtG,EAAA,OAAYqH,aAAarM,KAAA,OAAAsM,QAAA,SAAA/K,OAAAsD,EAAAyG,SAAAiB,WAAA,cAA0EpH,YAAA,OAAAhB,IAAyBqI,MAAA3H,EAAA0G,cAAAkB,SAAA5H,EAAA2G,kBAAyD3G,EAAAO,GAAAP,EAAAQ,GAAAR,EAAA9E,QAAAC,SAAA6E,EAAAO,GAAA,KAAAJ,EAAA,SAA6DqH,aAAarM,KAAA,OAAAsM,QAAA,SAAA/K,MAAAsD,EAAA,SAAA0H,WAAA,aAA0EvM,KAAA,QAAAsM,QAAA,UAAA/K,MAAAsD,EAAA,KAAA0H,WAAA,SAAkE9B,IAAA,eAAAtF,YAAA,aAAA4C,OAAqD/E,KAAA,QAAc0J,UAAWnL,MAAAsD,EAAA,MAAmBV,IAAK0H,KAAAhH,EAAAiH,KAAAa,OAAA,SAAA1E,GAA0C,eAAAA,KAAApD,EAAA+B,GAAAqB,EAAA2E,QAAA,WAAA3E,EAAA4E,KAAwE,WAAehI,GAAA+G,UAAA3D,IAAsB,SAAAA,GAAkB,eAAAA,KAAApD,EAAA+B,GAAAqB,EAAA2E,QAAA,SAAA3E,EAAA4E,KAAsE,WAAehI,GAAAqH,OAAAjE,KAAmBxF,MAAA,SAAAwF,GAA2BA,EAAA6E,OAAAC,YAAsClI,EAAA7E,KAAAiI,EAAA6E,OAAAvL,cACx/ByL,MACAC,IAAiBrI,OAAAuH,EAAA5G,gBAAAyH,IACjBE,GAAA,GZAAC,GAAAtO,EAAA,QAQAuO,GAAAlO,EAKAmO,GAAAF,GACAlC,EACAiC,IATA,EAWAE,GAPA,KAEA,MAUAE,GAAAD,GAAA,QaJAE,IjBimBEvN,KiB/lBF,cjBgmBEuC,OACEyD,MiB9lBJC,QjBgmBEG,YiB7lBF6E,YAAAqC,IACAxK,SAAAnB,OAAAN,OAAAyE,EAAA,IAEA,WAEA,sBjB4lBI0H,eAAgB,WACd,MAAO5K,MAAKtC,SAASmN,QAAQxM,KAAK,SAAUC,EAAGC,GAC7C,MAAOA,GAAEd,YAAca,EiB5lB/Bb,kBCpCAqN,GAAA,WAA0B,GAAA7I,GAAAjC,KAAakC,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,CAAwB,OAAAE,GAAA,OAAiB+C,OAAOxI,GAAA,kBAAqByF,EAAA,MAAWG,YAAA,SAAmBN,EAAAO,GAAA,mBAAAP,EAAAO,GAAA,KAAAJ,EAAA,OAAkDG,YAAA,SAAmBH,EAAA,OAAYG,YAAA,SAAoBN,EAAA8I,GAAA9I,EAAA,wBAAA9E,GAA+C,MAAAiF,GAAA,eAAyB6H,IAAA9M,EAAAgI,OAAmBhI,UAAAmL,OAAAnL,EAAAR,KAAAsF,EAAArF,yBAAkEqF,EAAAO,GAAA,KAAAP,EAAAS,GAAA,gBACtasI,MACAC,IAAiBjJ,OAAA8I,GAAAnI,gBAAAqI,IACjBE,GAAA,GbAAC,GAAAlP,EAAA,QAQAmP,GAAA7O,EAKA8O,GAAAF,GACAR,GACAO,IATA,EAWAE,GAPA,KAEA,MAUAE,GAAAD,GAAA,QLgrBiCE,IAlCjBtP,EAAoB,SAmClCmB,KmB3qBF,MnB4qBEwC,KAAM,WACJ,OACE4L,SmB3qBN,EnB4qBMC,SmB3qBN,GnB4qBMrI,OACEsI,YmB3qBR,InB4qBQC,kBmB3qBR,EnB4qBQC,cmB1qBR,KnB4qBMC,QmB3qBN,EnB4qBMC,iBmB1qBN,InB8qBEtI,YmB3qBFL,cAAA0C,EACAC,QAAAsC,EAEAuC,YAAAW,IACApL,SAAAnB,OAAAN,OAAAyE,EAAA,IAEA,iBACA,mBAEA,kBnBwqBIsF,iBAAkB,WAChB,OACEpF,MAAOpD,KAAKoD,MAAMsI,YmBtqB1B,OnByqBIjI,mBAAoB,WAClB,OACEL,MAAOpD,KAAKoD,MAAMwI,cmBtqB1B,OnByqBIG,IAAK,WACH,MmBvqBN,UnBuqBapI,OAAOqI,SAASC,UAEzBC,WAAY,WACV,MAAOlM,MAAKmM,amBvqBlB,GnByqBIC,UAAW,WACT,OACEC,KAAMrM,KAAKoD,MAAMsI,YmBtqBzB,SnB0qBEhI,QAAS,WACP1D,KAAKwL,SAAW7H,OmBvqBpB2I,WnBwqBI3I,OAAOE,iBAAiB,SAAU7D,KmBvqBtC8D,enByqBEzD,QAAS,WACPL,KmBvqBJuM,gBnB0qBE/L,SACEsD,aAAc,WACZ9D,KAAKwL,SAAW7H,OmBxqBtB2I,YnB0qBIE,OAAQ,SAAgBlI,EAAG4F,GmBxqB/B,GAAA5I,GAAAtB,InB2qBMA,MmB1qBNyE,iBnB2qBM,IAAIgI,GAASnI,EmB1qBnBoI,QnB2qBUC,EAAQ3M,KAAKoD,MmB1qBvB8G,GnB2qBU0C,EAAa5M,KAAKoD,MAAiB,kBAAX8G,EAA6B,cmB1qB/D,gBnB2qBMlK,MAAK6L,QmB1qBX,EnB2qBMlI,OAAOoB,YAAc,SAAUT,GAC7B,GAAIuI,GAAQvI,EAAEoI,QmB1qBtBD,CnB2qBYE,GAAQE,EAAQvL,EAAMmK,SACxBnK,EAAM8B,MAAM8G,GAAU5I,EmB1qBhCmK,SnB2qBmBnK,EAAMkK,UAAYmB,EAAQE,GAASD,EAAatL,EAAMmK,SAC/DnK,EAAM8B,MAAM8G,GAAU5I,EAAMkK,SAAWlK,EAAMmK,SmB1qBvDmB,EnB4qBUtL,EAAM8B,MAAM8G,GAAUyC,EmB1qBhCE,GnB6qBMlJ,OAAOsB,UAAYjF,KmB1qBzByE,iBnB4qBIA,gBAAiB,WACfzE,KAAK6L,QmB1qBX,EnB2qBMlI,OAAOoB,YmB1qBb,KnB2qBMpB,OAAOsB,UmB1qBb,MnB4qBIsH,aAAc,WACZzH,SAASjB,iBAAiB,UAAW7D,KAAK8M,iBmB1qBhD,GnB2qBMhI,SAASjB,iBAAiB,QAAS7D,KAAK+M,emB1qB9C,InB+qBID,gBAAiB,SAAyBxI,GACtB,KAAdA,EAAE0F,QAEJhK,KAAKgN,SmB3qBb,EnB4qBiBhN,KAAKgN,SAAyB,KAAd1I,EAAE0F,QAE3BhK,KmB5qBRiN,anB6qBiBjN,KAAKgN,SAAyB,IAAd1I,EAAE0F,QAE3BhK,KmB7qBRkN,iBnB8qBiBlN,KAAKgN,SAAyB,MAAd1I,EAAE0F,SAE3BhK,KmB9qBRmN,qBnBirBIJ,cAAe,SAAuBzI,GAClB,KAAdA,EAAE0F,UACJhK,KAAKgN,SmB9qBb,InBirBIC,WAAY,WACVjN,KAAKkE,OAAOC,SmB9qBlB,enBgrBI+I,eAAgB,WACVlN,KAAKpD,kBACH+G,OAAOyJ,QAAQ,gCAAkCpN,KAAKoE,eAAehH,KAAO,SAC9E4C,KAAKkE,OAAOC,SAAS,kBAAoBxH,GAAIqD,KmB9qBvDpD,oBnBkrBIuQ,kBAAmB,WACc,IAA3BnN,KAAKoD,MAAMsI,aACb1L,KAAKoD,MAAMsI,YAAc1L,KAAKoD,MmB9qBtCuI,kBnB+qBY3L,KAAKwL,SAAWxL,KAAKoD,MAAMsI,YAAc1L,KAAKoD,MAAMwI,cAAgB5L,KAAKyL,WAC3EzL,KAAKoD,MAAMwI,cAAgB5L,KAAKwL,SAAWxL,KAAKoD,MAAMsI,YAAc1L,KmB9qB9EyL,YnBirBQzL,KAAKoD,MAAMuI,kBAAoB3L,KAAKoD,MmB9qB5CsI,YnB+qBQ1L,KAAKoD,MAAMsI,YmB9qBnB,OCzJA2B,GAAA,WAA0B,GAAApL,GAAAjC,KAAakC,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,CAAwB,OAAAE,GAAA,OAAiB+C,OAAOxI,GAAA,SAAYyF,EAAA,eAAoBE,OAAOgL,YAAArL,EAAA4J,QAAwBvO,MAAA2E,EAAA,mBAA8BG,EAAA,OAAYG,YAAA,UAAAhB,IAA0B6D,UAAA,SAAAC,GAA6BpD,EAAAuK,OAAAnH,EAAA,qBAAoCpD,EAAAO,GAAA,KAAAJ,EAAA,iBAAoCE,OAAOgL,YAAArL,EAAA4J,QAAwBvO,MAAA2E,EAAA,qBAAgCG,EAAA,OAAYG,YAAA,UAAAhB,IAA0B6D,UAAA,SAAAC,GAA6BpD,EAAAuK,OAAAnH,EAAA,uBAAsCpD,EAAAO,GAAA,KAAAJ,EAAA,WAA8ByF,IAAA,eAAiBzF,EAAA,OAAYqH,aAAarM,KAAA,OAAAsM,QAAA,SAAA/K,MAAAsD,EAAA,OAAA0H,WAAA,WAAoEpH,YAAA,WAAqBN,EAAAO,GAAA,KAAAJ,EAAA,OAA0BqH,aAAarM,KAAA,OAAAsM,QAAA,SAAA/K,OAAAsD,EAAAiK,WAAAvC,WAAA,gBAA8EpH,YAAA,aAAAjF,MAAA2E,EAAA,UAAAkD,OAAwDxI,GAAA,UAAayF,EAAA,MAAAH,EAAAsL,GAAA,SAAAtL,EAAAO,GAAA,KAAAJ,EAAA,MAAAH,EAAA,IAAAG,EAAA,KAAAH,EAAAO,GAAA,WAAAJ,EAAA,KAAAH,EAAAO,GAAA,WAAAP,EAAAO,GAAA,8BAAAP,EAAAO,GAAA,KAAAP,EAAAsL,GAAA,SAAAtL,EAAAO,GAAA,KAAAP,EAAAsL,GAAA,kBAC51BC,IAAA,WAAoC,GAAAvL,GAAAjC,KAAakC,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,CAAwB,OAAAE,GAAA,MAAAA,EAAA,KAAAH,EAAAO,GAAA,WAAAP,EAAAO,GAAA,yBAAyE,WAAc,GAAAP,GAAAjC,KAAakC,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,CAAwB,OAAAE,GAAA,MAAAA,EAAA,KAAAH,EAAAO,GAAA,aAAAP,EAAAO,GAAA,iCAAmF,WAAc,GAAAP,GAAAjC,KAAakC,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,CAAwB,OAAAE,GAAA,MAAAA,EAAA,KAAAH,EAAAO,GAAA,kBAAAP,EAAAO,GAAA,gCACzZiL,IAAiBzL,OAAAqL,GAAA1K,gBAAA6K,IACjBE,GAAA,GdAAC,GAAA1R,EAAA,QAQA2R,GAAApR,EAKAqR,GAAAF,GACApC,GACAmC,IATA,EAWAE,GAPA,KAEA,MAUAE,GAAAD,GAAA,QezBAE,IACEC,eAAgB,iBAChBC,YAAa,cACbC,eAAgB,iBAChBC,gBAAiB,mBCFnBC,IACEzF,cAAe,SAAA0F,EAAaC,IAC1BC,EADsCF,EAAtBE,QACTR,GAAcC,eAAgBM,IAEvCE,WAAY,SAAAC,EAAaH,IACvBC,EADmCE,EAAtBF,QACNR,GAAcE,YAAaK,IAEpCI,cAAe,SAAAC,EAAaL,IAC1BC,EADsCI,EAAtBJ,QACTR,GAAcG,eAAgBI,IAEvCM,eAAgB,SAAAC,EAAaP,IAC3BC,EADuCM,EAAtBN,QACVR,GAAcI,gBAAiBG,KCb1CQ,IACElS,iBAAkB,SAAAF,GAAA,MAASA,GAAME,kBACjCwH,eAAgB,SAAA1H,GACd,MAAOA,GAAME,iBAAmBF,EAAMgB,SAASI,KAAK,SAAAX,GAAA,MAAWA,GAAQR,KAAOD,EAAME,mBAAoB,MAE1Gc,SAAU,SAAAhB,GAAA,MAASA,GAAMgB,UACzByO,aAAc,SAAAzP,GACZ,MAAOA,GAAMgB,SAASc,SvBw5BtBuQ,GAAgB9S,EAAoB,QACpC+S,GAA8B/S,EAAoB+C,EAAE+P,IAGpDE,GAAYhT,EAAoB,QAChCiT,GAAiCjT,EAAoB+C,EAAEiQ,IwBp6BrDE,IACJvS,iBAAkB,KAClBc,aAGI0R,GAAezL,OAAOyL,aAE5BvS,IACEwS,KADa,WAEX,GAAIC,GAAKF,GAAaG,QALX,cAMX,IAAKD,EAGE,CACL,GAAIE,GAAMC,KAAKC,MAAMJ,EACrB,OAAON,MAAcQ,GAHrB,MADAJ,IAAaO,QAPJ,cAOoBT,KAAeC,KACrCH,KAAcG,KAMzBrS,OAXa,SAWLwS,GACNF,GAAaO,QAfF,cAekBT,KAAeI,MjBhBhDM,IAAAhR,KAAAK,IAAAL,EACGmP,GAAcC,eADjB,SACkCtR,EADlC2R,GAEI5R,EAAoBC,EADyB2R,EAAN1R,MAD3CsC,IAAAL,EAIGmP,GAAcE,YAJjB,SAI+BvR,GAC3BK,EAAWL,KALfuC,IAAAL,EAOGmP,GAAcG,eAPjB,SAOkCxR,EAAOmB,GACrCD,EAAclB,EAAOmB,KARzBoB,IAAAL,EAUGmP,GAAcI,gBAVjB,SAUmCzR,EAVnC+R,GAWIzQ,EAAetB,EAD+B+R,EAAN9R,MAV5CiC,EkBIAC,GAAA,EAAIgR,IAAI3M,EAAA,EAER,IAAM4M,IAAQjT,GAAGwS,OAEjBU,GAAA,GAAmB7M,GAAA,EAAK8M,OACtBtT,MAAAoT,GACAhB,WACAV,WACAwB,cCRF/Q,GAAA,EAAIoR,OAAOC,MAAQzR,QAAA0R,SAAA,eAAYC,WAE/B,GAAIvR,GAAA,GACFwR,GAAI,OACJN,SACAO,SAAU,SACV9M,YAAc+H,IAAAuC,O1B6hCVyC,KACA,SAAU5U,EAAQC,KAMlB4U,KACA,SAAU7U,EAAQC,KAMlB6U,KACA,SAAU9U,EAAQC,KAMlB8U,KACA,SAAU/U,EAAQC,KAMlB+U,KACA,SAAUhV,EAAQC,KAMlBgV,KACA,SAAUjV,EAAQC,KAMlBiV,KACA,SAAUlV,EAAQC,OAMrB","file":"static/js/app.f26e4813444bfdede964.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ \"4/hK\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"9xLI\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"BoDG\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"NHnr\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./node_modules/vue/dist/vue.esm.js\nvar vue_esm = __webpack_require__(\"7+uW\");\n\n// EXTERNAL MODULE: ./node_modules/babel-runtime/helpers/extends.js\nvar helpers_extends = __webpack_require__(\"Dd8w\");\nvar extends_default = /*#__PURE__*/__webpack_require__.n(helpers_extends);\n\n// EXTERNAL MODULE: ./node_modules/babel-runtime/helpers/defineProperty.js\nvar defineProperty = __webpack_require__(\"bOdI\");\nvar defineProperty_default = /*#__PURE__*/__webpack_require__.n(defineProperty);\n\n// EXTERNAL MODULE: ./node_modules/codemirror/lib/codemirror.js\nvar codemirror = __webpack_require__(\"8U58\");\nvar codemirror_default = /*#__PURE__*/__webpack_require__.n(codemirror);\n\n// EXTERNAL MODULE: ./node_modules/codemirror/lib/codemirror.css\nvar lib_codemirror = __webpack_require__(\"4/hK\");\nvar lib_codemirror_default = /*#__PURE__*/__webpack_require__.n(lib_codemirror);\n\n// EXTERNAL MODULE: ./node_modules/codemirror/theme/material.css\nvar material = __webpack_require__(\"epNC\");\nvar material_default = /*#__PURE__*/__webpack_require__.n(material);\n\n// EXTERNAL MODULE: ./node_modules/codemirror/mode/htmlmixed/htmlmixed.js\nvar htmlmixed = __webpack_require__(\"8Nur\");\nvar htmlmixed_default = /*#__PURE__*/__webpack_require__.n(htmlmixed);\n\n// EXTERNAL MODULE: ./node_modules/codemirror/mode/htmlembedded/htmlembedded.js\nvar htmlembedded = __webpack_require__(\"zA3a\");\nvar htmlembedded_default = /*#__PURE__*/__webpack_require__.n(htmlembedded);\n\n// EXTERNAL MODULE: ./node_modules/codemirror/mode/css/css.js\nvar css = __webpack_require__(\"puAj\");\nvar css_default = /*#__PURE__*/__webpack_require__.n(css);\n\n// EXTERNAL MODULE: ./node_modules/codemirror/mode/javascript/javascript.js\nvar javascript = __webpack_require__(\"5IAE\");\nvar javascript_default = /*#__PURE__*/__webpack_require__.n(javascript);\n\n// EXTERNAL MODULE: ./node_modules/codemirror/addon/scroll/simplescrollbars.css\nvar simplescrollbars = __webpack_require__(\"9xLI\");\nvar simplescrollbars_default = /*#__PURE__*/__webpack_require__.n(simplescrollbars);\n\n// EXTERNAL MODULE: ./node_modules/codemirror/addon/scroll/simplescrollbars.js\nvar scroll_simplescrollbars = __webpack_require__(\"hKnC\");\nvar scroll_simplescrollbars_default = /*#__PURE__*/__webpack_require__.n(scroll_simplescrollbars);\n\n// EXTERNAL MODULE: ./node_modules/lodash/lodash.js\nvar lodash = __webpack_require__(\"M4fF\");\nvar lodash_default = /*#__PURE__*/__webpack_require__.n(lodash);\n\n// CONCATENATED MODULE: ./src/filters/index.js\n/* harmony default export */ var filters = ({\n  upper: function upper(value) {\n    return value.toString().toUpperCase();\n  }\n});\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/Editor.vue\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ var Editor = ({\n  name: 'Editor',\n  props: ['type', 'height', 'code', 'currentProjectId'],\n  data: function data() {\n    return {\n      input: '',\n      codeMirror: null\n    };\n  },\n\n  filters: filters,\n  watch: {\n    'currentProjectId': function currentProjectId() {\n      this.initCode();\n    }\n  },\n  computed: {\n    typeName: function typeName() {\n      var names = {\n        html: 'html',\n        style: 'css',\n        js: 'js'\n      };\n      return names[this.type];\n    }\n  },\n  mounted: function mounted() {\n    this.initEditor();\n    this.initCode();\n    this.initChange();\n  },\n\n  methods: {\n    initEditor: function initEditor() {\n      var types = {\n        html: 'htmlmixed',\n        style: 'css',\n        js: 'javascript'\n      };\n      this.codeMirror = codemirror_default()(this.$el.querySelector('.inputarea'), {\n        lineNumbers: true,\n        mode: types[this.type],\n        lineWrapping: true,\n        theme: 'material',\n        scrollbarStyle: 'overlay',\n        tabSize: 2\n      });\n      this.$el.querySelector('.CodeMirror-scroll').style.height = this.$el.clientHeight;\n    },\n    initCode: function initCode() {\n      this.setCodeMirrorValue(this.code);\n    },\n    initChange: function initChange() {\n      var _this = this;\n\n      this.codeMirror.on('change', lodash_default.a.debounce(function () {\n        var newValue = _this.codeMirror.getValue().trim();\n        if (newValue !== _this.code) {\n          _this.$emit('updateCode', _this.type, newValue);\n        }\n      }, 600));\n    },\n    setCodeMirrorValue: function setCodeMirrorValue(val) {\n      this.codeMirror.getDoc().setValue(val);\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-87944d04\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Editor.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:'editor editor-' + _vm.type,style:({height: _vm.height + 'px'})},[_c('div',{staticClass:\"type\"},[_vm._v(_vm._s(_vm.typeName))]),_vm._v(\" \"),_c('div',{staticClass:\"inputarea\"}),_vm._v(\" \"),_vm._t(\"default\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var components_Editor = (esExports);\n// CONCATENATED MODULE: ./src/components/Editor.vue\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"Yt3H\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  Editor,\n  components_Editor,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var src_components_Editor = (Component.exports);\n\n// EXTERNAL MODULE: ./node_modules/vuex/dist/vuex.esm.js\nvar vuex_esm = __webpack_require__(\"NYxO\");\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/EditorWrapper.vue\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n/* harmony default export */ var EditorWrapper = ({\n  name: 'EditorWrapper',\n  props: {\n    width: Number\n  },\n  data: function data() {\n    return {\n      winHeight: 0,\n      minHeight: 50,\n      height: {\n        html: 0,\n        style: 0,\n        js: 0\n      }\n    };\n  },\n\n  components: {\n    Editor: src_components_Editor\n  },\n  computed: extends_default()({}, Object(vuex_esm[\"b\" /* mapGetters */])(['currentProjectId', 'currentProject']), {\n    editorWrapperWidth: function editorWrapperWidth() {\n      return {\n        width: this.width + 'px'\n      };\n    }\n  }),\n  watch: {\n    currentProjectId: function currentProjectId() {\n      this.$emit('initCode');\n    }\n  },\n  created: function created() {\n    this.winHeight = window.innerHeight;\n    for (var k in this.height) {\n      this.height[k] = this.winHeight / 3;\n    }\n    window.addEventListener('resize', this.handleResize);\n  },\n\n  methods: {\n    handleResize: function handleResize() {\n      this.winHeight = window.innerHeight;\n      var totalHeight = 0;\n      for (var k in this.height) {\n        totalHeight += this.height[k];\n      }\n      for (var _k in this.height) {\n        this.height[_k] = this.winHeight * this.height[_k] / totalHeight;\n      }\n    },\n    updateCode: function updateCode(type, code) {\n      this.$store.dispatch('updateProject', defineProperty_default()({\n        id: this.currentProject.id\n      }, type, code));\n    },\n    resizeEditor: function resizeEditor(e, curr, sibl) {\n      var _this = this;\n\n      this.cleanMouseEvent();\n      var clickY = e.clientY;\n      var currH = this.height[curr];\n      var siblH = this.height[sibl];\n      document.onmousemove = function (e) {\n        var moveY = e.clientY - clickY;\n        if (currH + moveY < _this.minHeight) {\n          _this.height[curr] = _this.minHeight;\n          _this.height[sibl] = currH + siblH - _this.minHeight;\n        } else if (siblH - moveY < _this.minHeight) {\n          _this.height[curr] = currH + siblH - _this.minHeight;\n          _this.height[sibl] = _this.minHeight;\n        } else {\n          _this.height[sibl] = siblH - moveY;\n          _this.height[curr] = currH + moveY;\n        }\n      };\n      document.onmouseup = this.cleanMouseEvent;\n    },\n    cleanMouseEvent: function cleanMouseEvent() {\n      document.onmousemove = null;\n      document.onmouseup = null;\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-51394c4c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/EditorWrapper.vue\nvar EditorWrapper_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{style:(_vm.editorWrapperWidth),attrs:{\"id\":\"editor-wrapper\"}},[(_vm.currentProject)?_c('div',[_c('Editor',{attrs:{\"type\":\"html\",\"height\":_vm.height.html,\"code\":_vm.currentProject.html,\"currentProjectId\":_vm.currentProjectId},on:{\"updateCode\":_vm.updateCode}},[_c('div',{staticClass:\"row-resizer\",on:{\"mousedown\":function($event){_vm.resizeEditor($event, 'html', 'style')}}})]),_vm._v(\" \"),_c('Editor',{attrs:{\"type\":\"style\",\"height\":_vm.height.style,\"code\":_vm.currentProject.style,\"currentProjectId\":_vm.currentProjectId},on:{\"updateCode\":_vm.updateCode}},[_c('div',{staticClass:\"row-resizer\",on:{\"mousedown\":function($event){_vm.resizeEditor($event, 'style', 'js')}}})]),_vm._v(\" \"),_c('Editor',{attrs:{\"type\":\"js\",\"height\":_vm.height.js,\"code\":_vm.currentProject.js,\"currentProjectId\":_vm.currentProjectId},on:{\"updateCode\":_vm.updateCode}})],1):_vm._e(),_vm._v(\" \"),_vm._t(\"default\")],2)}\nvar EditorWrapper_staticRenderFns = []\nvar EditorWrapper_esExports = { render: EditorWrapper_render, staticRenderFns: EditorWrapper_staticRenderFns }\n/* harmony default export */ var components_EditorWrapper = (EditorWrapper_esExports);\n// CONCATENATED MODULE: ./src/components/EditorWrapper.vue\nfunction EditorWrapper_injectStyle (ssrContext) {\n  __webpack_require__(\"jFuy\")\n}\nvar EditorWrapper_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\nvar EditorWrapper___vue_template_functional__ = false\n/* styles */\nvar EditorWrapper___vue_styles__ = EditorWrapper_injectStyle\n/* scopeId */\nvar EditorWrapper___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar EditorWrapper___vue_module_identifier__ = null\nvar EditorWrapper_Component = EditorWrapper_normalizeComponent(\n  EditorWrapper,\n  components_EditorWrapper,\n  EditorWrapper___vue_template_functional__,\n  EditorWrapper___vue_styles__,\n  EditorWrapper___vue_scopeId__,\n  EditorWrapper___vue_module_identifier__\n)\n\n/* harmony default export */ var src_components_EditorWrapper = (EditorWrapper_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/Preview.vue\n\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n/* harmony default export */ var Preview = ({\n  name: 'Preview',\n  data: function data() {\n    return {\n      currentProjectId: '',\n      html: '',\n      style: '',\n      js: '',\n      previewSrc: ''\n    };\n  },\n\n  computed: extends_default()({}, Object(vuex_esm[\"b\" /* mapGetters */])(['currentProject'])),\n  watch: {\n    currentProject: {\n      handler: function handler(val) {\n        if (!val) return false;\n        if (val.html === this.html && val.js === this.js && val.id === this.currentProjectId && val.style !== this.style) {\n          this.updateStyle();\n          // } else if (val.html !== this.html || val.js !== this.js) {\n        } else {\n          this.update();\n        }\n      },\n\n      deep: true\n    }\n  },\n  mounted: function mounted() {\n    if (this.currentProject) {\n      this.update();\n    }\n  },\n\n  methods: {\n    update: function update() {\n      console.log('update');\n      this.currentProjectId = this.currentProject.id;\n      this.html = this.currentProject.html;\n      this.style = this.currentProject.style;\n      this.js = this.currentProject.js;\n      var preview = this.$refs.previewRef;\n      preview.innerHTML = '';\n      var frame = document.createElement('iframe');\n      preview.appendChild(frame);\n      var doc = frame.contentWindow.document;\n      var style = document.createElement('style');\n      style.type = 'text/css';\n      style.id = this.currentProject.id + '_style';\n      style.textContent = this.style;\n      var script = document.createElement('script');\n      script.id = this.currentProject.id + '_script';\n      script.textContent = this.js;\n      var libs = this.injectLibs();\n      doc.open();\n      doc.write(this.html || '<!DOCTYPE html><html><head><title></title></head><body></body></html>');\n      doc.write(libs);\n      doc.write(style.outerHTML);\n      doc.write(script.outerHTML);\n      doc.close();\n    },\n    updateStyle: function updateStyle() {\n      console.log('updateStyle');\n      this.style = this.currentProject.style;\n      var frame = this.$refs.previewRef.querySelector('iframe');\n      var doc = frame.contentDocument;\n      var style = doc.getElementById(this.currentProject.id + '_style');\n      style.textContent = this.currentProject.style;\n    },\n    injectLibs: function injectLibs() {\n      var assetsPath = 'assets/libs/';\n      var jsAssets = ['vue.min.js', 'holder.min.js'];\n      var libs = lodash_default.a.reduce(jsAssets, function (libs, asset) {\n        var script = document.createElement('script');\n        script.src = assetsPath + asset;\n        return libs + script.outerHTML;\n      }, '');\n      return libs;\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f305c164\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Preview.vue\nvar Preview_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"preview-wrapper\"}},[_c('div',{ref:\"previewRef\",attrs:{\"id\":\"preview\"}}),_vm._v(\" \"),_vm._t(\"default\")],2)}\nvar Preview_staticRenderFns = []\nvar Preview_esExports = { render: Preview_render, staticRenderFns: Preview_staticRenderFns }\n/* harmony default export */ var components_Preview = (Preview_esExports);\n// CONCATENATED MODULE: ./src/components/Preview.vue\nfunction Preview_injectStyle (ssrContext) {\n  __webpack_require__(\"WPmU\")\n}\nvar Preview_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\nvar Preview___vue_template_functional__ = false\n/* styles */\nvar Preview___vue_styles__ = Preview_injectStyle\n/* scopeId */\nvar Preview___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar Preview___vue_module_identifier__ = null\nvar Preview_Component = Preview_normalizeComponent(\n  Preview,\n  components_Preview,\n  Preview___vue_template_functional__,\n  Preview___vue_styles__,\n  Preview___vue_scopeId__,\n  Preview___vue_module_identifier__\n)\n\n/* harmony default export */ var src_components_Preview = (Preview_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/ProjectName.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var ProjectName = ({\n  name: 'ProjectName',\n  props: {\n    active: Boolean,\n    project: Object,\n    projectListWidth: String\n  },\n  data: function data() {\n    return {\n      name: '',\n      editMode: false\n    };\n  },\n\n  methods: {\n    switchProject: function switchProject() {\n      this.$store.dispatch('switchProject', { id: this.project.id });\n    },\n    switchEditMode: function switchEditMode() {\n      var _this = this;\n\n      this.editMode = !this.editMode;\n      if (this.editMode) {\n        this.name = this.project.name;\n        setTimeout(function () {\n          _this.$refs.nameInputRef.select();\n        }, 1);\n      } else {\n        this.name = '';\n      }\n    },\n    blurInput: function blurInput() {\n      this.$refs.nameInputRef.blur();\n    },\n    save: function save() {\n      var _this2 = this;\n\n      var newName = this.name.trim();\n      if (newName === this.project.name) {\n        this.switchEditMode();\n      } else if (newName === '') {\n        this.name = this.project.name;\n        this.switchEditMode();\n      } else {\n        this.$store.dispatch('updateProject', {\n          id: this.project.id,\n          name: newName\n        }).then(function () {\n          _this2.switchEditMode();\n        });\n      }\n    },\n    unsave: function unsave() {\n      this.name = this.project.name;\n      this.switchEditMode();\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-39596d01\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ProjectName.vue\nvar ProjectName_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"item\",class:{'active': _vm.active, 'edit-mode': _vm.editMode}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editMode),expression:\"!editMode\"}],staticClass:\"name\",on:{\"click\":_vm.switchProject,\"dblclick\":_vm.switchEditMode}},[_vm._v(_vm._s(_vm.project.name))]),_vm._v(\" \"),_c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.editMode),expression:\"editMode\"},{name:\"model\",rawName:\"v-model\",value:(_vm.name),expression:\"name\"}],ref:\"nameInputRef\",staticClass:\"name-input\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.name)},on:{\"blur\":_vm.save,\"keyup\":[function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key)){ return null; }_vm.blurInput($event)},function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"esc\",27,$event.key)){ return null; }_vm.unsave($event)}],\"input\":function($event){if($event.target.composing){ return; }_vm.name=$event.target.value}}})])}\nvar ProjectName_staticRenderFns = []\nvar ProjectName_esExports = { render: ProjectName_render, staticRenderFns: ProjectName_staticRenderFns }\n/* harmony default export */ var components_ProjectName = (ProjectName_esExports);\n// CONCATENATED MODULE: ./src/components/ProjectName.vue\nfunction ProjectName_injectStyle (ssrContext) {\n  __webpack_require__(\"BoDG\")\n}\nvar ProjectName_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\nvar ProjectName___vue_template_functional__ = false\n/* styles */\nvar ProjectName___vue_styles__ = ProjectName_injectStyle\n/* scopeId */\nvar ProjectName___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar ProjectName___vue_module_identifier__ = null\nvar ProjectName_Component = ProjectName_normalizeComponent(\n  ProjectName,\n  components_ProjectName,\n  ProjectName___vue_template_functional__,\n  ProjectName___vue_styles__,\n  ProjectName___vue_scopeId__,\n  ProjectName___vue_module_identifier__\n)\n\n/* harmony default export */ var src_components_ProjectName = (ProjectName_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/ProjectList.vue\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n/* harmony default export */ var ProjectList = ({\n  name: 'ProjectList',\n  props: {\n    width: Number\n  },\n  components: {\n    ProjectName: src_components_ProjectName\n  },\n  computed: extends_default()({}, Object(vuex_esm[\"b\" /* mapGetters */])(['projects', 'currentProjectId']), {\n    sortedProjects: function sortedProjects() {\n      return this.projects.slice().sort(function (a, b) {\n        return b.modified_at - a.modified_at;\n      });\n    }\n  })\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2470cdca\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ProjectList.vue\nvar ProjectList_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"project-list\"}},[_c('h1',{staticClass:\"logo\"},[_vm._v(\"<SketchCode/>\")]),_vm._v(\" \"),_c('div',{staticClass:\"list\"},[_c('div',{staticClass:\"inner\"},_vm._l((_vm.sortedProjects),function(project){return _c('ProjectName',{key:project,attrs:{\"project\":project,\"active\":project.id === _vm.currentProjectId}})}))]),_vm._v(\" \"),_vm._t(\"default\")],2)}\nvar ProjectList_staticRenderFns = []\nvar ProjectList_esExports = { render: ProjectList_render, staticRenderFns: ProjectList_staticRenderFns }\n/* harmony default export */ var components_ProjectList = (ProjectList_esExports);\n// CONCATENATED MODULE: ./src/components/ProjectList.vue\nfunction ProjectList_injectStyle (ssrContext) {\n  __webpack_require__(\"tNM2\")\n}\nvar ProjectList_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\nvar ProjectList___vue_template_functional__ = false\n/* styles */\nvar ProjectList___vue_styles__ = ProjectList_injectStyle\n/* scopeId */\nvar ProjectList___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar ProjectList___vue_module_identifier__ = null\nvar ProjectList_Component = ProjectList_normalizeComponent(\n  ProjectList,\n  components_ProjectList,\n  ProjectList___vue_template_functional__,\n  ProjectList___vue_styles__,\n  ProjectList___vue_scopeId__,\n  ProjectList___vue_module_identifier__\n)\n\n/* harmony default export */ var src_components_ProjectList = (ProjectList_Component.exports);\n\n// EXTERNAL MODULE: ./node_modules/normalize.css/normalize.css\nvar normalize = __webpack_require__(\"uMhA\");\nvar normalize_default = /*#__PURE__*/__webpack_require__.n(normalize);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/App.vue\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\n\n/* harmony default export */ var App = ({\n  name: 'app',\n  data: function data() {\n    return {\n      winWidth: 0,\n      minWidth: 50,\n      width: {\n        projectList: 200,\n        projectListHolder: 0,\n        editorWrapper: 400\n      },\n      moving: false,\n      hideProjectList: false\n    };\n  },\n\n  components: {\n    EditorWrapper: src_components_EditorWrapper,\n    Preview: src_components_Preview,\n    ProjectList: src_components_ProjectList\n  },\n  computed: extends_default()({}, Object(vuex_esm[\"b\" /* mapGetters */])(['currentProject', 'currentProjectId', 'projectCount']), {\n    projectListWidth: function projectListWidth() {\n      return {\n        width: this.width.projectList + 'px'\n      };\n    },\n    editorWrapperWidth: function editorWrapperWidth() {\n      return {\n        width: this.width.editorWrapper + 'px'\n      };\n    },\n    dev: function dev() {\n      return window.location.protocol === 'http:';\n    },\n    hasProject: function hasProject() {\n      return this.projectCount > 0;\n    },\n    tipsStyle: function tipsStyle() {\n      return {\n        left: this.width.projectList + 'px'\n      };\n    }\n  }),\n  created: function created() {\n    this.winWidth = window.innerWidth;\n    window.addEventListener('resize', this.handleResize);\n  },\n  mounted: function mounted() {\n    this.initShortcut();\n  },\n\n  methods: {\n    handleResize: function handleResize() {\n      this.winWidth = window.innerWidth;\n    },\n    resize: function resize(e, target) {\n      var _this = this;\n\n      this.cleanMouseEvent();\n      var clickX = e.clientX;\n      var currW = this.width[target];\n      var otherWidth = this.width[target === 'editorWrapper' ? 'projectList' : 'editorWrapper'];\n      this.moving = true;\n      window.onmousemove = function (e) {\n        var moveX = e.clientX - clickX;\n        if (currW + moveX < _this.minWidth) {\n          _this.width[target] = _this.minWidth;\n        } else if (_this.winWidth - (currW + moveX) - otherWidth < _this.minWidth) {\n          _this.width[target] = _this.winWidth - _this.minWidth - otherWidth;\n        } else {\n          _this.width[target] = currW + moveX;\n        }\n      };\n      window.onmouseup = this.cleanMouseEvent;\n    },\n    cleanMouseEvent: function cleanMouseEvent() {\n      this.moving = false;\n      window.onmousemove = null;\n      window.onmouseup = null;\n    },\n    initShortcut: function initShortcut() {\n      document.addEventListener('keydown', this.shortcutKeydown, false);\n      document.addEventListener('keyup', this.shortcutKeyup, false);\n      // let iframeDoc = this.$refs.previewRef.$el.querySelector('iframe').contentDocument\n      // iframeDoc.addEventListener('keydown', this.shortcutKeydown, false)\n      // iframeDoc.addEventListener('keyup', this.shortcutKeyup, false)\n    },\n    shortcutKeydown: function shortcutKeydown(e) {\n      if (e.keyCode === 17) {\n        // ⌃ key / capslock\n        this.ctrlKey = true;\n      } else if (this.ctrlKey && e.keyCode === 78) {\n        // ⌃ + N\n        this.newProject();\n      } else if (this.ctrlKey && e.keyCode === 8) {\n        //  ⌃ + Del\n        this.distroyProject();\n      } else if (this.ctrlKey && e.keyCode === 191) {\n        //  ⌃ + /\n        this.toggleProjectList();\n      }\n    },\n    shortcutKeyup: function shortcutKeyup(e) {\n      if (e.keyCode === 17) {\n        this.ctrlKey = false;\n      }\n    },\n    newProject: function newProject() {\n      this.$store.dispatch('addProject');\n    },\n    distroyProject: function distroyProject() {\n      if (this.currentProjectId) {\n        if (window.confirm('Are you sure to delete this <' + this.currentProject.name + '/> ?')) {\n          this.$store.dispatch('destroyProject', { id: this.currentProjectId });\n        }\n      }\n    },\n    toggleProjectList: function toggleProjectList() {\n      if (this.width.projectList === 0) {\n        this.width.projectList = this.width.projectListHolder;\n        if (this.winWidth - this.width.projectList - this.width.editorWrapper < this.minWidth) {\n          this.width.editorWrapper = this.winWidth - this.width.projectList - this.minWidth;\n        }\n      } else {\n        this.width.projectListHolder = this.width.projectList;\n        this.width.projectList = 0;\n      }\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-21c219e1\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\nvar App_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('ProjectList',{class:{transition: !_vm.moving},style:(_vm.projectListWidth)},[_c('div',{staticClass:\"resizer\",on:{\"mousedown\":function($event){_vm.resize($event, 'projectList')}}})]),_vm._v(\" \"),_c('EditorWrapper',{class:{transition: !_vm.moving},style:(_vm.editorWrapperWidth)},[_c('div',{staticClass:\"resizer\",on:{\"mousedown\":function($event){_vm.resize($event, 'editorWrapper')}}})]),_vm._v(\" \"),_c('Preview',{ref:\"previewRef\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.moving),expression:\"moving\"}],staticClass:\"mask\"})]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.hasProject),expression:\"!hasProject\"}],staticClass:\"transition\",style:(_vm.tipsStyle),attrs:{\"id\":\"tips\"}},[_c('ul',[_vm._m(0,false,false),_vm._v(\" \"),_c('li',[(_vm.dev)?_c('b',[_vm._v(\"⌃ + K\")]):_c('b',[_vm._v(\"⌃ + N\")]),_vm._v(\" to create a new project\")]),_vm._v(\" \"),_vm._m(1,false,false),_vm._v(\" \"),_vm._m(2,false,false)])])],1)}\nvar App_staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',[_c('b',[_vm._v(\"⌃ + /\")]),_vm._v(\" to toggle sidebar\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',[_c('b',[_vm._v(\"⌃ + Del\")]),_vm._v(\" to delete current project\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',[_c('b',[_vm._v(\"Double Click\")]),_vm._v(\" project title to rename\")])}]\nvar App_esExports = { render: App_render, staticRenderFns: App_staticRenderFns }\n/* harmony default export */ var selectortype_template_index_0_src_App = (App_esExports);\n// CONCATENATED MODULE: ./src/App.vue\nfunction App_injectStyle (ssrContext) {\n  __webpack_require__(\"qKDr\")\n}\nvar App_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\nvar App___vue_template_functional__ = false\n/* styles */\nvar App___vue_styles__ = App_injectStyle\n/* scopeId */\nvar App___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar App___vue_module_identifier__ = null\nvar App_Component = App_normalizeComponent(\n  App,\n  selectortype_template_index_0_src_App,\n  App___vue_template_functional__,\n  App___vue_styles__,\n  App___vue_scopeId__,\n  App___vue_module_identifier__\n)\n\n/* harmony default export */ var src_App = (App_Component.exports);\n\n// CONCATENATED MODULE: ./src/store/mutation-types.js\n/* harmony default export */ var mutation_types = ({\n  SWITCH_PROJECT: 'SWITCH_PROJECT',\n  ADD_PROJECT: 'ADD_PROJECT',\n  UPDATE_PROJECT: 'UPDATE_PROJECT',\n  DESTROY_PROJECT: 'DESTROY_PROJECT'\n});\n// CONCATENATED MODULE: ./src/store/actions.js\n\n\n/* harmony default export */ var actions = ({\n  switchProject: function switchProject(_ref, payload) {\n    var commit = _ref.commit;\n\n    commit(mutation_types.SWITCH_PROJECT, payload);\n  },\n  addProject: function addProject(_ref2, payload) {\n    var commit = _ref2.commit;\n\n    commit(mutation_types.ADD_PROJECT, payload);\n  },\n  updateProject: function updateProject(_ref3, payload) {\n    var commit = _ref3.commit;\n\n    commit(mutation_types.UPDATE_PROJECT, payload);\n  },\n  destroyProject: function destroyProject(_ref4, payload) {\n    var commit = _ref4.commit;\n\n    commit(mutation_types.DESTROY_PROJECT, payload);\n  }\n});\n// CONCATENATED MODULE: ./src/store/getters.js\n/* harmony default export */ var getters = ({\n  currentProjectId: function currentProjectId(state) {\n    return state.currentProjectId;\n  },\n  currentProject: function currentProject(state) {\n    return state.currentProjectId ? state.projects.find(function (project) {\n      return project.id === state.currentProjectId;\n    }) : null;\n  },\n  projects: function projects(state) {\n    return state.projects;\n  },\n  projectCount: function projectCount(state) {\n    return state.projects.length;\n  }\n});\n// EXTERNAL MODULE: ./node_modules/babel-runtime/core-js/object/assign.js\nvar object_assign = __webpack_require__(\"woOf\");\nvar assign_default = /*#__PURE__*/__webpack_require__.n(object_assign);\n\n// EXTERNAL MODULE: ./node_modules/babel-runtime/core-js/json/stringify.js\nvar stringify = __webpack_require__(\"mvHQ\");\nvar stringify_default = /*#__PURE__*/__webpack_require__.n(stringify);\n\n// CONCATENATED MODULE: ./src/store/db.js\n\n\nvar seed = {\n  currentProjectId: null,\n  projects: []\n};\nvar DB_KEY = 'sketch_code';\nvar localStorage = window.localStorage;\n\n/* harmony default export */ var store_db = ({\n  init: function init() {\n    var db = localStorage.getItem(DB_KEY);\n    if (!db) {\n      localStorage.setItem(DB_KEY, stringify_default()(seed));\n      return assign_default()(seed);\n    } else {\n      var _db = JSON.parse(db);\n      return assign_default()(_db);\n    }\n  },\n  update: function update(db) {\n    localStorage.setItem(DB_KEY, stringify_default()(db));\n  }\n});\n// CONCATENATED MODULE: ./src/store/mutations.js\n\n\nvar _mutationTypes$SWITCH;\n\n\n\n\n/* harmony default export */ var mutations = (_mutationTypes$SWITCH = {}, defineProperty_default()(_mutationTypes$SWITCH, mutation_types.SWITCH_PROJECT, function (state, _ref) {\n  var id = _ref.id;\n\n  setCurrentProjectId(state, id);\n}), defineProperty_default()(_mutationTypes$SWITCH, mutation_types.ADD_PROJECT, function (state) {\n  mutations_addProject(state);\n}), defineProperty_default()(_mutationTypes$SWITCH, mutation_types.UPDATE_PROJECT, function (state, context) {\n  mutations_updateProject(state, context);\n}), defineProperty_default()(_mutationTypes$SWITCH, mutation_types.DESTROY_PROJECT, function (state, _ref2) {\n  var id = _ref2.id;\n\n  mutations_destroyProject(state, id);\n}), _mutationTypes$SWITCH);\n\nfunction setCurrentProjectId(state, id) {\n  state.currentProjectId = id;\n  store_db.update(state);\n}\n\nfunction mutations_addProject(state) {\n  var timestamp = Date.now();\n  var project = {\n    id: 'p_' + timestamp,\n    name: 'Untitled',\n    html: '',\n    style: '',\n    js: '',\n    created_at: timestamp,\n    modified_at: timestamp\n  };\n  state.projects.push(project);\n  setCurrentProjectId(state, project.id);\n}\n\nfunction mutations_updateProject(state, context) {\n  var project = state.projects.find(function (project) {\n    return project.id === context.id;\n  });\n  if (project) {\n    for (var k in context) {\n      project[k] = context[k];\n    }\n    project.modified_at = Date.now();\n  }\n  store_db.update(state);\n}\n\nfunction mutations_destroyProject(state, id) {\n  var project = state.projects.find(function (project) {\n    return project.id === id;\n  });\n  var idx = state.projects.indexOf(project);\n  state.projects.splice(idx, 1);\n  var _projects = state.projects.sort(function (a, b) {\n    return a.modified_at < b.modified_at;\n  });\n  if (_projects.length) {\n    setCurrentProjectId(state, _projects[0].id);\n  } else {\n    setCurrentProjectId(state, null);\n  }\n}\n// CONCATENATED MODULE: ./src/store/index.js\n\n\n\n\n\n\n\nvue_esm[\"a\" /* default */].use(vuex_esm[\"a\" /* default */]);\n\nvar store_state = store_db.init();\n\n/* harmony default export */ var store = (new vuex_esm[\"a\" /* default */].Store({\n  state: store_state,\n  getters: getters,\n  actions: actions,\n  mutations: mutations\n}));\n// CONCATENATED MODULE: ./src/main.js\n// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\n\n\n\n\n/* eslint-disable no-new */\nvue_esm[\"a\" /* default */].config.debug = Object({\"NODE_ENV\":\"production\"}).DEBUG_MODE;\n\nnew vue_esm[\"a\" /* default */]({\n  el: '#app',\n  store: store,\n  template: '<App/>',\n  components: { App: src_App }\n});\n\n/***/ }),\n\n/***/ \"WPmU\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"Yt3H\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"epNC\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"jFuy\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"qKDr\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"tNM2\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"uMhA\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ })\n\n},[\"NHnr\"]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.f26e4813444bfdede964.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-87944d04\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Editor.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Editor.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-87944d04\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Editor.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Editor.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-51394c4c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./EditorWrapper.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./EditorWrapper.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-51394c4c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./EditorWrapper.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/EditorWrapper.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f305c164\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Preview.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Preview.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f305c164\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Preview.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Preview.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-39596d01\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ProjectName.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ProjectName.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-39596d01\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ProjectName.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ProjectName.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2470cdca\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ProjectList.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ProjectList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2470cdca\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ProjectList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ProjectList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-21c219e1\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-21c219e1\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","import mutationTypes from './mutation-types'\nimport db from './db'\n\nexport default {\n  [mutationTypes.SWITCH_PROJECT] (state, { id }) {\n    setCurrentProjectId(state, id)\n  },\n  [mutationTypes.ADD_PROJECT] (state) {\n    addProject(state)\n  },\n  [mutationTypes.UPDATE_PROJECT] (state, context) {\n    updateProject(state, context)\n  },\n  [mutationTypes.DESTROY_PROJECT] (state, { id }) {\n    destroyProject(state, id)\n  }\n}\n\nfunction setCurrentProjectId (state, id) {\n  state.currentProjectId = id\n  db.update(state)\n}\n\nfunction addProject (state) {\n  let timestamp = Date.now()\n  let project = {\n    id: 'p_' + timestamp,\n    name: 'Untitled',\n    html: '',\n    style: '',\n    js: '',\n    created_at: timestamp,\n    modified_at: timestamp\n  }\n  state.projects.push(project)\n  setCurrentProjectId(state, project.id)\n}\n\nfunction updateProject (state, context) {\n  let project = state.projects.find((project) => project.id === context.id)\n  if (project) {\n    for (let k in context) {\n      project[k] = context[k]\n    }\n    project.modified_at = Date.now()\n  }\n  db.update(state)\n}\n\nfunction destroyProject (state, id) {\n  let project = state.projects.find((project) => project.id === id)\n  let idx = state.projects.indexOf(project)\n  state.projects.splice(idx, 1)\n  let _projects = state.projects.sort((a, b) => {\n    return a.modified_at < b.modified_at\n  })\n  if (_projects.length) {\n    setCurrentProjectId(state, _projects[0].id)\n  } else {\n    setCurrentProjectId(state, null)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/mutations.js","export default {\n  upper (value) {\n    return value.toString().toUpperCase()\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/filters/index.js","<template>\n  <div :class=\"'editor editor-' + type\" :style=\"{height: height + 'px'}\">\n    <div class=\"type\">{{ typeName }}</div>\n    <div class=\"inputarea\"></div>\n    <slot></slot>\n  </div>\n</template>\n\n<script>\nimport CodeMirror from 'codemirror/lib/codemirror'\nimport 'codemirror/lib/codemirror.css'\nimport 'codemirror/theme/material.css'\nimport 'codemirror/mode/htmlmixed/htmlmixed'\nimport 'codemirror/mode/htmlembedded/htmlembedded'\nimport 'codemirror/mode/css/css'\nimport 'codemirror/mode/javascript/javascript'\nimport 'codemirror/addon/scroll/simplescrollbars.css'\nimport 'codemirror/addon/scroll/simplescrollbars'\nimport _ from 'lodash'\nimport filters from '../filters/'\n\nexport default {\n  name: 'Editor',\n  props: ['type', 'height', 'code', 'currentProjectId'],\n  data () {\n    return {\n      input: '',\n      codeMirror: null\n    }\n  },\n  filters: filters,\n  watch: {\n    'currentProjectId' () {\n      this.initCode()\n    }\n  },\n  computed: {\n    typeName () {\n      let names = {\n        html: 'html',\n        style: 'css',\n        js: 'js'\n      }\n      return names[this.type]\n    }\n  },\n  mounted () {\n    this.initEditor()\n    this.initCode()\n    this.initChange()\n  },\n  methods: {\n    initEditor () {\n      let types = {\n        html: 'htmlmixed',\n        style: 'css',\n        js: 'javascript'\n      }\n      this.codeMirror = CodeMirror(this.$el.querySelector('.inputarea'), {\n        lineNumbers: true,\n        mode: types[this.type],\n        lineWrapping: true,\n        theme: 'material',\n        scrollbarStyle: 'overlay',\n        tabSize: 2\n      })\n      this.$el.querySelector('.CodeMirror-scroll').style.height = this.$el.clientHeight\n    },\n    initCode () {\n      this.setCodeMirrorValue(this.code)\n    },\n    initChange () {\n      this.codeMirror.on('change', _.debounce(() => {\n        let newValue = this.codeMirror.getValue().trim()\n        if (newValue !== this.code) {\n          this.$emit('updateCode', this.type, newValue)\n        }\n      }, 600))\n    },\n    setCodeMirrorValue (val) {\n      this.codeMirror.getDoc().setValue(val)\n    }\n  }\n}\n</script>\n\n<style>\n@import '../styles/share';\n.editor {\n  width: 100%;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  .type {\n    position: absolute;\n    z-index: 200;\n    right: 15px;\n    top: 5px;\n    width: 40px;\n    color: rgba(98, 126, 140, 0.6);\n    font: 11px $codeFont;\n    text-align: right;\n    cursor: default;\n    text-transform: uppercase;\n  }\n  .inputarea {\n    flex: 1;\n    height: 100%;\n  }\n  .CodeMirror {\n    height: 100%;\n    font-size: $fontSize;\n    font-family: $codeFont;\n    line-height: 1.3;\n    &:hover {\n      .CodeMirror-overlayscroll-horizontal div,\n      .CodeMirror-overlayscroll-vertical div {\n        opacity: 1;\n        transition: opacity .3s;\n      }\n    }\n    .CodeMirror-overlayscroll-vertical,\n    .CodeMirror-overlayscroll-horizontal {\n      width: 4px;\n      div {\n        background: $scrollbarColor;\n        border-radius: 0;\n        opacity: 0;\n        transition: opacity .3s .3s;\n      }\n    }\n  }\n  .CodeMirror-linenumber {\n    min-width: 16px;\n    padding-top: 2px;\n    font-size: 10px;\n  }\n  .row-resizer {\n    position: absolute;\n    bottom: -6px;\n    left: 0;\n    right: 0;\n    width: 100%;\n    height: 10px;\n    z-index: 200;\n    background: transparent;\n    &:hover {\n      cursor: row-resize;\n    }\n  }\n}\n\n.editor-html, .editor-style {\n  border-bottom: 2px solid rgba(45, 59, 66, .7);\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Editor.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:'editor editor-' + _vm.type,style:({height: _vm.height + 'px'})},[_c('div',{staticClass:\"type\"},[_vm._v(_vm._s(_vm.typeName))]),_vm._v(\" \"),_c('div',{staticClass:\"inputarea\"}),_vm._v(\" \"),_vm._t(\"default\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-87944d04\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Editor.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"editor-wrapper\" :style=\"editorWrapperWidth\">\n    <div v-if=\"currentProject\">\n      <Editor\n        type=\"html\"\n        :height=\"height.html\"\n        :code=\"currentProject.html\"\n        :currentProjectId=\"currentProjectId\"\n        @updateCode=\"updateCode\">\n        <div class=\"row-resizer\" @mousedown=\"resizeEditor($event, 'html', 'style')\"></div>\n      </Editor>\n      <Editor\n        type=\"style\"\n        :height=\"height.style\"\n        :code=\"currentProject.style\"\n        :currentProjectId=\"currentProjectId\"\n        @updateCode=\"updateCode\">\n        <div class=\"row-resizer\" @mousedown=\"resizeEditor($event, 'style', 'js')\"></div>\n      </Editor>\n      <Editor\n        type=\"js\"\n        :height=\"height.js\"\n        :code=\"currentProject.js\"\n        :currentProjectId=\"currentProjectId\"\n        @updateCode=\"updateCode\"></Editor>\n    </div>\n    <slot></slot>\n  </div>\n</template>\n\n<script>\nimport Editor from './Editor'\nimport { mapGetters } from 'vuex'\n\nexport default {\n  name: 'EditorWrapper',\n  props: {\n    width: Number\n  },\n  data () {\n    return {\n      winHeight: 0,\n      minHeight: 50,\n      height: {\n        html: 0,\n        style: 0,\n        js: 0\n      }\n    }\n  },\n  components: {\n    Editor\n  },\n  computed: {\n    ...mapGetters([\n      'currentProjectId',\n      'currentProject'\n    ]),\n    editorWrapperWidth () {\n      return {\n        width: this.width + 'px'\n      }\n    }\n  },\n  watch: {\n    currentProjectId () {\n      this.$emit('initCode')\n    }\n  },\n  created () {\n    this.winHeight = window.innerHeight\n    for (let k in this.height) {\n      this.height[k] = this.winHeight / 3\n    }\n    window.addEventListener('resize', this.handleResize)\n  },\n  methods: {\n    handleResize () {\n      this.winHeight = window.innerHeight\n      let totalHeight = 0\n      for (let k in this.height) {\n        totalHeight += this.height[k]\n      }\n      for (let k in this.height) {\n        this.height[k] = this.winHeight * this.height[k] / totalHeight\n      }\n    },\n    updateCode (type, code) {\n      this.$store.dispatch('updateProject', {\n        id: this.currentProject.id,\n        [type]: code\n      })\n    },\n    resizeEditor (e, curr, sibl) {\n      this.cleanMouseEvent()\n      let clickY = e.clientY\n      let currH = this.height[curr]\n      let siblH = this.height[sibl]\n      document.onmousemove = (e) => {\n        let moveY = e.clientY - clickY\n        if (currH + moveY < this.minHeight) {\n          this.height[curr] = this.minHeight\n          this.height[sibl] = currH + siblH - this.minHeight\n        } else if (siblH - moveY < this.minHeight) {\n          this.height[curr] = currH + siblH - this.minHeight\n          this.height[sibl] = this.minHeight\n        } else {\n          this.height[sibl] = siblH - moveY\n          this.height[curr] = currH + moveY\n        }\n      }\n      document.onmouseup = this.cleanMouseEvent\n    },\n    cleanMouseEvent () {\n      document.onmousemove = null\n      document.onmouseup = null\n    }\n  }\n}\n</script>\n\n<style>\n@import '../styles/share';\n#editor-wrapper {\n  position: relative;\n  height: 100%;\n  background: $editorBg;\n  .resizer {\n    position: absolute;\n    right: 0px;\n    top: 0;\n    width: 10px;\n    height: 100%;\n    z-index: 100;\n    background: transparent;\n    &:hover {\n      cursor: col-resize;\n    }\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/EditorWrapper.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{style:(_vm.editorWrapperWidth),attrs:{\"id\":\"editor-wrapper\"}},[(_vm.currentProject)?_c('div',[_c('Editor',{attrs:{\"type\":\"html\",\"height\":_vm.height.html,\"code\":_vm.currentProject.html,\"currentProjectId\":_vm.currentProjectId},on:{\"updateCode\":_vm.updateCode}},[_c('div',{staticClass:\"row-resizer\",on:{\"mousedown\":function($event){_vm.resizeEditor($event, 'html', 'style')}}})]),_vm._v(\" \"),_c('Editor',{attrs:{\"type\":\"style\",\"height\":_vm.height.style,\"code\":_vm.currentProject.style,\"currentProjectId\":_vm.currentProjectId},on:{\"updateCode\":_vm.updateCode}},[_c('div',{staticClass:\"row-resizer\",on:{\"mousedown\":function($event){_vm.resizeEditor($event, 'style', 'js')}}})]),_vm._v(\" \"),_c('Editor',{attrs:{\"type\":\"js\",\"height\":_vm.height.js,\"code\":_vm.currentProject.js,\"currentProjectId\":_vm.currentProjectId},on:{\"updateCode\":_vm.updateCode}})],1):_vm._e(),_vm._v(\" \"),_vm._t(\"default\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-51394c4c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/EditorWrapper.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"preview-wrapper\">\n    <div id=\"preview\" ref=\"previewRef\"></div>\n    <slot></slot>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\nimport _ from 'lodash'\n\nexport default {\n  name: 'Preview',\n  data () {\n    return {\n      currentProjectId: '',\n      html: '',\n      style: '',\n      js: '',\n      previewSrc: ''\n    }\n  },\n  computed: {\n    ...mapGetters([\n      'currentProject'\n    ])\n  },\n  watch: {\n    currentProject: {\n      handler (val) {\n        if (!val) return false\n        if (val.html === this.html &&\n          val.js === this.js &&\n          val.id === this.currentProjectId &&\n          val.style !== this.style) {\n          this.updateStyle()\n        // } else if (val.html !== this.html || val.js !== this.js) {\n        } else {\n          this.update()\n        }\n      },\n      deep: true\n    }\n  },\n  mounted () {\n    if (this.currentProject) {\n      this.update()\n    }\n  },\n  methods: {\n    update () {\n      console.log('update')\n      this.currentProjectId = this.currentProject.id\n      this.html = this.currentProject.html\n      this.style = this.currentProject.style\n      this.js = this.currentProject.js\n      let preview = this.$refs.previewRef\n      preview.innerHTML = ''\n      let frame = document.createElement('iframe')\n      preview.appendChild(frame)\n      let doc = frame.contentWindow.document\n      let style = document.createElement('style')\n      style.type = 'text/css'\n      style.id = this.currentProject.id + '_style'\n      style.textContent = this.style\n      let script = document.createElement('script')\n      script.id = this.currentProject.id + '_script'\n      script.textContent = this.js\n      let libs = this.injectLibs()\n      doc.open()\n      doc.write(this.html || '<!DOCTYPE html><html><head><title></title></head><body></body></html>')\n      doc.write(libs)\n      doc.write(style.outerHTML)\n      doc.write(script.outerHTML)\n      doc.close()\n    },\n    updateStyle () {\n      console.log('updateStyle')\n      this.style = this.currentProject.style\n      let frame = this.$refs.previewRef.querySelector('iframe')\n      let doc = frame.contentDocument\n      let style = doc.getElementById(this.currentProject.id + '_style')\n      style.textContent = this.currentProject.style\n    },\n    injectLibs () {\n      let assetsPath = 'assets/libs/'\n      let jsAssets = ['vue.min.js', 'holder.min.js']\n      let libs = _.reduce(jsAssets, (libs, asset) => {\n        let script = document.createElement('script')\n        script.src = assetsPath + asset\n        return libs + script.outerHTML\n      }, '')\n      return libs\n    }\n  }\n}\n</script>\n\n<style>\n#preview-wrapper {\n  position: relative;\n  flex: 1;\n  height: 100%;\n  width: 100%;\n  background: #fff;\n  > .mask {\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n  }\n}\n#preview {\n  height: 100%;\n  width: 100%;\n}\n#preview > iframe {\n  width: 100%;\n  height: 100%;\n  border: none;\n  overflow: auto;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Preview.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"preview-wrapper\"}},[_c('div',{ref:\"previewRef\",attrs:{\"id\":\"preview\"}}),_vm._v(\" \"),_vm._t(\"default\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f305c164\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Preview.vue\n// module id = null\n// module chunks = ","<template>\n  <div\n    class=\"item\"\n    :class=\"{'active': active, 'edit-mode': editMode}\">\n    <div\n      class=\"name\"\n      v-show=\"!editMode\"\n      @click=\"switchProject\"\n      @dblclick=\"switchEditMode\">{{ project.name }}</div>\n    <input\n      class=\"name-input\"\n      type=\"text\"\n      ref=\"nameInputRef\"\n      v-show=\"editMode\"\n      v-model=\"name\"\n      @blur=\"save\"\n      @keyup.enter=\"blurInput\"\n      @keyup.esc=\"unsave\"/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'ProjectName',\n  props: {\n    active: Boolean,\n    project: Object,\n    projectListWidth: String\n  },\n  data () {\n    return {\n      name: '',\n      editMode: false\n    }\n  },\n  methods: {\n    switchProject () {\n      this.$store.dispatch('switchProject', { id: this.project.id })\n    },\n    switchEditMode () {\n      this.editMode = !this.editMode\n      if (this.editMode) {\n        this.name = this.project.name\n        setTimeout(() => {\n          this.$refs.nameInputRef.select()\n        }, 1)\n      } else {\n        this.name = ''\n      }\n    },\n    blurInput () {\n      this.$refs.nameInputRef.blur()\n    },\n    save () {\n      let newName = this.name.trim()\n      if (newName === this.project.name) {\n        this.switchEditMode()\n      } else if (newName === '') {\n        this.name = this.project.name\n        this.switchEditMode()\n      } else {\n        this.$store.dispatch('updateProject', {\n          id: this.project.id,\n          name: newName\n        }).then(() => {\n          this.switchEditMode()\n        })\n      }\n    },\n    unsave () {\n      this.name = this.project.name\n      this.switchEditMode()\n    }\n  }\n}\n</script>\n\n<style scope>\n@import '../styles/share';\n\n.item {\n  display: table-caption;\n  &.active {\n    background: $projectListActiveBg;\n    .name, .name:hover {\n      color: $projectListActiveColor;\n    }\n  }\n  .name {\n    padding: 12px 20px;\n    color: $projectListColor;\n    font-size: 14px;\n    white-space: nowrap;\n    &:hover {\n      color: $projectListHoverColor;\n    }\n  }\n  &.edit-mode {\n    padding: 0 10px;\n  }\n  .name-input {\n    -webkit-appearance: none;\n    height: 24px;\n    width: 100%;\n    padding: 0 10px;\n    margin: 8px 0;\n    background: $editorBg;\n    border: none;\n    outline: none;\n    color: $projectListColor;\n    font-family: $defaultFont;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/ProjectName.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"item\",class:{'active': _vm.active, 'edit-mode': _vm.editMode}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editMode),expression:\"!editMode\"}],staticClass:\"name\",on:{\"click\":_vm.switchProject,\"dblclick\":_vm.switchEditMode}},[_vm._v(_vm._s(_vm.project.name))]),_vm._v(\" \"),_c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.editMode),expression:\"editMode\"},{name:\"model\",rawName:\"v-model\",value:(_vm.name),expression:\"name\"}],ref:\"nameInputRef\",staticClass:\"name-input\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.name)},on:{\"blur\":_vm.save,\"keyup\":[function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key)){ return null; }_vm.blurInput($event)},function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"esc\",27,$event.key)){ return null; }_vm.unsave($event)}],\"input\":function($event){if($event.target.composing){ return; }_vm.name=$event.target.value}}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-39596d01\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ProjectName.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"project-list\">\n    <h1 class=\"logo\">&lt;SketchCode/&gt;</h1>\n    <div class=\"list\">\n      <div class=\"inner\">\n        <ProjectName\n          v-for=\"project in sortedProjects\"\n          :key=\"project\"\n          :project=\"project\"\n          :active=\"project.id === currentProjectId\">\n        </ProjectName>\n      </div>\n    </div>\n    <slot></slot>\n  </div>\n</template>\n\n<script>\nimport ProjectName from './ProjectName'\nimport { mapGetters } from 'vuex'\n\nexport default {\n  name: 'ProjectList',\n  props: {\n    width: Number\n  },\n  components: {\n    ProjectName\n  },\n  computed: {\n    ...mapGetters([\n      'projects',\n      'currentProjectId'\n    ]),\n    sortedProjects () {\n      return this.projects.slice().sort((a, b) => b.modified_at - a.modified_at)\n    }\n  }\n}\n</script>\n\n<style>\n@import '../styles/share';\n\n#project-list {\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  height: 100%;\n  width: 200px;\n  background: $projectListBg;\n  cursor: default;\n  transform-origin: 0 0;\n  .logo {\n    padding: 15px 20px;\n    margin: 0;\n    font-size: 18px;\n    color: $logoColor;\n  }\n  .list {\n    flex: 1;\n    overflow: auto;\n  }\n  .inner {\n    display: table;\n    min-width: 100%;\n  }\n  .resizer {\n    position: absolute;\n    right: 0px;\n    top: 0;\n    width: 10px;\n    height: 100%;\n    z-index: 100;\n    background: transparent;\n    &:hover {\n      cursor: col-resize;\n    }\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/ProjectList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"project-list\"}},[_c('h1',{staticClass:\"logo\"},[_vm._v(\"<SketchCode/>\")]),_vm._v(\" \"),_c('div',{staticClass:\"list\"},[_c('div',{staticClass:\"inner\"},_vm._l((_vm.sortedProjects),function(project){return _c('ProjectName',{key:project,attrs:{\"project\":project,\"active\":project.id === _vm.currentProjectId}})}))]),_vm._v(\" \"),_vm._t(\"default\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2470cdca\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ProjectList.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <ProjectList :style=\"projectListWidth\" :class=\"{transition: !moving}\">\n      <div class=\"resizer\" @mousedown=\"resize($event, 'projectList')\"></div>\n    </ProjectList>\n    <EditorWrapper :style=\"editorWrapperWidth\" :class=\"{transition: !moving}\">\n      <div class=\"resizer\" @mousedown=\"resize($event, 'editorWrapper')\"></div>\n    </EditorWrapper>\n    <Preview ref=\"previewRef\">\n      <div class=\"mask\" v-show=\"moving\"></div>\n    </Preview>\n    <div id=\"tips\" class=\"transition\" :style=\"tipsStyle\" v-show=\"!hasProject\">\n      <ul>\n        <li><b>⌃ + /</b> to toggle sidebar</li>\n        <li><b v-if=\"dev\">⌃ + K</b><b v-else>⌃ + N</b> to create a new project</li>\n        <li><b>⌃ + Del</b> to delete current project</li>\n        <li><b>Double Click</b> project title to rename</li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script>\nimport EditorWrapper from './components/EditorWrapper'\nimport Preview from './components/Preview'\nimport ProjectList from './components/ProjectList'\nimport { mapGetters } from 'vuex'\nimport 'normalize.css'\n\nexport default {\n  name: 'app',\n  data () {\n    return {\n      winWidth: 0,\n      minWidth: 50,\n      width: {\n        projectList: 200,\n        projectListHolder: 0,\n        editorWrapper: 400\n      },\n      moving: false,\n      hideProjectList: false\n    }\n  },\n  components: {\n    EditorWrapper,\n    Preview,\n    ProjectList\n  },\n  computed: {\n    ...mapGetters([\n      'currentProject',\n      'currentProjectId',\n      'projectCount'\n    ]),\n    projectListWidth () {\n      return {\n        width: this.width.projectList + 'px'\n      }\n    },\n    editorWrapperWidth () {\n      return {\n        width: this.width.editorWrapper + 'px'\n      }\n    },\n    dev () {\n      return window.location.protocol === 'http:'\n    },\n    hasProject () {\n      return this.projectCount > 0\n    },\n    tipsStyle () {\n      return {\n        left: this.width.projectList + 'px'\n      }\n    }\n  },\n  created () {\n    this.winWidth = window.innerWidth\n    window.addEventListener('resize', this.handleResize)\n  },\n  mounted () {\n    this.initShortcut()\n  },\n  methods: {\n    handleResize () {\n      this.winWidth = window.innerWidth\n    },\n    resize (e, target) {\n      this.cleanMouseEvent()\n      let clickX = e.clientX\n      let currW = this.width[target]\n      let otherWidth = this.width[target === 'editorWrapper' ? 'projectList' : 'editorWrapper']\n      this.moving = true\n      window.onmousemove = (e) => {\n        let moveX = e.clientX - clickX\n        if (currW + moveX < this.minWidth) {\n          this.width[target] = this.minWidth\n        } else if (this.winWidth - (currW + moveX) - otherWidth < this.minWidth) {\n          this.width[target] = this.winWidth - this.minWidth - otherWidth\n        } else {\n          this.width[target] = currW + moveX\n        }\n      }\n      window.onmouseup = this.cleanMouseEvent\n    },\n    cleanMouseEvent () {\n      this.moving = false\n      window.onmousemove = null\n      window.onmouseup = null\n    },\n    initShortcut () {\n      document.addEventListener('keydown', this.shortcutKeydown, false)\n      document.addEventListener('keyup', this.shortcutKeyup, false)\n      // let iframeDoc = this.$refs.previewRef.$el.querySelector('iframe').contentDocument\n      // iframeDoc.addEventListener('keydown', this.shortcutKeydown, false)\n      // iframeDoc.addEventListener('keyup', this.shortcutKeyup, false)\n    },\n    shortcutKeydown (e) {\n      if (e.keyCode === 17) { // ⌃ key / capslock\n        this.ctrlKey = true\n      } else if (this.ctrlKey && e.keyCode === 78) { // ⌃ + N\n        this.newProject()\n      } else if (this.ctrlKey && e.keyCode === 8) { //  ⌃ + Del\n        this.distroyProject()\n      } else if (this.ctrlKey && e.keyCode === 191) { //  ⌃ + /\n        this.toggleProjectList()\n      }\n    },\n    shortcutKeyup (e) {\n      if (e.keyCode === 17) {\n        this.ctrlKey = false\n      }\n    },\n    newProject () {\n      this.$store.dispatch('addProject')\n    },\n    distroyProject () {\n      if (this.currentProjectId) {\n        if (window.confirm(`Are you sure to delete this <${this.currentProject.name}/> ?`)) {\n          this.$store.dispatch('destroyProject', { id: this.currentProjectId })\n        }\n      }\n    },\n    toggleProjectList () {\n      if (this.width.projectList === 0) {\n        this.width.projectList = this.width.projectListHolder\n        if (this.winWidth - this.width.projectList - this.width.editorWrapper < this.minWidth) {\n          this.width.editorWrapper = this.winWidth - this.width.projectList - this.minWidth\n        }\n      } else {\n        this.width.projectListHolder = this.width.projectList\n        this.width.projectList = 0\n      }\n    }\n  }\n}\n</script>\n\n<style>\n@import './styles/share';\n* {\n  box-sizing: border-box;\n  -webkit-user-select: none;\n  user-select: none;\n}\n// for safari\ninput, textarea {\n  -webkit-user-select: text;\n  user-select: text;\n}\n.transition {\n  transition: all .2s ease-in-out;\n}\nhtml, body {\n  height: 100%;\n  overflow: hidden;\n  font-family: $defaultFont;\n  font-size: $fontSize;\n  background: $editorBg;\n}\n#app {\n  height: 100%;\n  display: flex;\n  flex-direction: row;\n}\n#tips {\n  position: absolute;\n  top: 0;\n  right: 0;\n  height: 100%;\n  background: $editorBg;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 300;\n  ul {\n    list-style: none;\n    color: $tipsColor;\n    font-size: $tipsFontSize;\n    font-family: $codeFont;\n    line-height: 2;\n    b {\n      color: $tipsShortcutColor;\n    }\n  }\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('ProjectList',{class:{transition: !_vm.moving},style:(_vm.projectListWidth)},[_c('div',{staticClass:\"resizer\",on:{\"mousedown\":function($event){_vm.resize($event, 'projectList')}}})]),_vm._v(\" \"),_c('EditorWrapper',{class:{transition: !_vm.moving},style:(_vm.editorWrapperWidth)},[_c('div',{staticClass:\"resizer\",on:{\"mousedown\":function($event){_vm.resize($event, 'editorWrapper')}}})]),_vm._v(\" \"),_c('Preview',{ref:\"previewRef\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.moving),expression:\"moving\"}],staticClass:\"mask\"})]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.hasProject),expression:\"!hasProject\"}],staticClass:\"transition\",style:(_vm.tipsStyle),attrs:{\"id\":\"tips\"}},[_c('ul',[_vm._m(0,false,false),_vm._v(\" \"),_c('li',[(_vm.dev)?_c('b',[_vm._v(\"⌃ + K\")]):_c('b',[_vm._v(\"⌃ + N\")]),_vm._v(\" to create a new project\")]),_vm._v(\" \"),_vm._m(1,false,false),_vm._v(\" \"),_vm._m(2,false,false)])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',[_c('b',[_vm._v(\"⌃ + /\")]),_vm._v(\" to toggle sidebar\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',[_c('b',[_vm._v(\"⌃ + Del\")]),_vm._v(\" to delete current project\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',[_c('b',[_vm._v(\"Double Click\")]),_vm._v(\" project title to rename\")])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-21c219e1\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","export default {\n  SWITCH_PROJECT: 'SWITCH_PROJECT',\n  ADD_PROJECT: 'ADD_PROJECT',\n  UPDATE_PROJECT: 'UPDATE_PROJECT',\n  DESTROY_PROJECT: 'DESTROY_PROJECT'\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/mutation-types.js","import mutationTypes from './mutation-types'\n\nexport default {\n  switchProject: ({ commit }, payload) => {\n    commit(mutationTypes.SWITCH_PROJECT, payload)\n  },\n  addProject: ({ commit }, payload) => {\n    commit(mutationTypes.ADD_PROJECT, payload)\n  },\n  updateProject: ({ commit }, payload) => {\n    commit(mutationTypes.UPDATE_PROJECT, payload)\n  },\n  destroyProject: ({ commit }, payload) => {\n    commit(mutationTypes.DESTROY_PROJECT, payload)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/actions.js","export default {\n  currentProjectId: state => state.currentProjectId,\n  currentProject: state => {\n    return state.currentProjectId ? state.projects.find(project => project.id === state.currentProjectId) : null\n  },\n  projects: state => state.projects,\n  projectCount: state => {\n    return state.projects.length\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/getters.js","const seed = {\n  currentProjectId: null,\n  projects: []\n}\nconst DB_KEY = 'sketch_code'\nconst localStorage = window.localStorage\n\nexport default {\n  init () {\n    let db = localStorage.getItem(DB_KEY)\n    if (!db) {\n      localStorage.setItem(DB_KEY, JSON.stringify(seed))\n      return Object.assign(seed)\n    } else {\n      let _db = JSON.parse(db)\n      return Object.assign(_db)\n    }\n  },\n  update (db) {\n    localStorage.setItem(DB_KEY, JSON.stringify(db))\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/db.js","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport actions from './actions'\nimport getters from './getters'\nimport mutations from './mutations'\nimport db from './db'\n\nVue.use(Vuex)\n\nconst state = db.init()\n\nexport default new Vuex.Store({\n  state,\n  getters,\n  actions,\n  mutations\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport store from './store'\n\n/* eslint-disable no-new */\nVue.config.debug = process.env.DEBUG_MODE\n\nnew Vue({\n  el: '#app',\n  store,\n  template: '<App/>',\n  components: { App }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}